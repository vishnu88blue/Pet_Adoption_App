"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["861"],{4957:function(t,e,i){i.r(e),i.d(e,{WaitlistModal:()=>y,Waitlist:()=>Z});var l=i("7126"),a=i("2631"),o=i("7571"),r=i("3064"),n=i("9885"),s=i("4676"),c=i("8748"),d=i("8969"),h=i("6391"),u=i("8655"),m=i("5295");let p=t=>{let e=(0,a.cL)(),i=(0,n.useCardState)(),p=(0,h._m)(),{navigate:Z}=(0,s.useRouter)(),y=(0,o.useWaitlistContext)(),{formState:g}=t,w=(0,d.a2)({onNextStep:()=>i.setError(void 0)}),z=async t=>{t.preventDefault(),p.setLoading(),i.setLoading(),i.setError(void 0);let l={emailAddress:g.emailAddress.value};await e.joinWaitlist(l).then(()=>{w.nextStep(),setTimeout(()=>{y.afterJoinWaitlistUrl&&Z(y.afterJoinWaitlistUrl)},2e3)}).catch(t=>{(0,c.S3)(t,[],i.setError)}).finally(()=>{p.setIdle(),i.setIdle()})};return(0,l.BX)(d.en,{...w.props,children:[(0,l.BX)(r.Col,{gap:6,children:[(0,l.BX)(n.Header.Root,{showLogo:!0,children:[(0,l.tZ)(n.Header.Title,{localizationKey:(0,r.localizationKeys)("waitlist.start.title")}),(0,l.tZ)(n.Header.Subtitle,{localizationKey:(0,r.localizationKeys)("waitlist.start.subtitle")})]}),(0,l.tZ)(n.Card.Alert,{children:i.error}),(0,l.tZ)(r.Flex,{direction:"col",elementDescriptor:r.descriptors.main,gap:6,children:(0,l.BX)(n.Form.Root,{onSubmit:z,gap:8,children:[(0,l.tZ)(r.Col,{gap:6,children:(0,l.tZ)(n.Form.ControlRow,{elementId:"emailAddress",children:(0,l.tZ)(n.Form.PlainInput,{...g.emailAddress.props,isRequired:!0})})}),(0,l.tZ)(r.Col,{center:!0,children:(0,l.tZ)(n.Form.SubmitButton,{localizationKey:(0,r.localizationKeys)("waitlist.start.formButton")})})]})})]}),(0,l.BX)(r.Col,{gap:6,children:[(0,l.BX)(n.Header.Root,{showLogo:!0,children:[(0,l.tZ)(n.Header.Title,{localizationKey:(0,r.localizationKeys)("waitlist.success.title")}),(0,l.tZ)(n.Header.Subtitle,{localizationKey:(0,r.localizationKeys)("waitlist.success.subtitle")})]}),y.afterJoinWaitlistUrl&&(0,l.tZ)(r.Flex,{direction:"col",elementDescriptor:r.descriptors.main,gap:6,children:(0,l.tZ)(r.Col,{center:!0,children:(0,l.BX)(r.Flex,{gap:2,align:"center",children:[(0,l.tZ)(r.Icon,{icon:u.z6,sx:t=>({margin:"auto",width:t.sizes.$6,height:t.sizes.$6,animation:"".concat(m.animations.spinning," 1s linear infinite")})}),(0,l.tZ)(r.Text,{colorScheme:"secondary",localizationKey:(0,r.localizationKeys)("waitlist.success.message")})]})})})]})]})},Z=(0,n.withCardStateProvider)(()=>{let t=(0,a.cL)(),e=(0,o.useWaitlistContext)(),{signInUrl:i}=e,s=e.initialValues||{},d={emailAddress:(0,c.Yp)("emailAddress",s.emailAddress||"",{type:"email",label:(0,r.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,r.localizationKeys)("formFieldInputPlaceholder__emailAddress")})};return(0,l.tZ)(r.Flow.Root,{flow:"waitlist",children:(0,l.BX)(n.Card.Root,{children:[(0,l.tZ)(n.Card.Content,{children:(0,l.tZ)(p,{formState:d})}),(0,l.tZ)(n.Card.Footer,{children:(0,l.BX)(n.Card.Action,{elementId:"waitlist",children:[(0,l.tZ)(n.Card.ActionText,{localizationKey:(0,r.localizationKeys)("waitlist.start.actionText")}),(0,l.tZ)(n.Card.ActionLink,{localizationKey:(0,r.localizationKeys)("waitlist.start.actionLink"),to:t.buildUrlWithAuth(i)})]})})]})})}),y=t=>{let e={signInUrl:"/".concat(s.VIRTUAL_ROUTER_BASE_PATH,"/sign-in"),...t,routing:"virtual"};return(0,l.tZ)(s.Route,{path:"waitlist",children:(0,l.tZ)(o.WaitlistContext.Provider,{value:{...e,componentName:"Waitlist",mode:"modal"},children:(0,l.tZ)("div",{children:(0,l.tZ)(Z,{})})})})}}}]);