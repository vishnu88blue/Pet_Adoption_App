"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["920"],{1491:function(e,t,n){n.r(t),n.d(t,{OneTap:()=>f});var o=n("7126"),i=n("4194"),c=n("7571"),l=n("3064"),a=n("4676"),r=n("2631"),u=n("5758"),s=n("9885"),d=n("6391");let p=(0,s.withCardStateProvider)(function(){let e=(0,r.cL)(),{user:t}=(0,r.aF)(),n=(0,c.useEnvironment)(),o=(0,i.useRef)(!1),{navigate:l}=(0,a.useRouter)(),s=(0,c.useGoogleOneTapContext)();async function p(t){o.current=!1;try{let n=await e.authenticateWithGoogleOneTap({token:t.credential});await e.handleGoogleOneTapCallback(n,s.generateCallbackUrls(window.location.href),l)}catch(e){console.error(e)}}let h=n.displayConfig.googleOneTapClientId,f=!(null==t?void 0:t.id)&&!!h;async function _(){let e=await (0,u.g)();return e.accounts.id.initialize({client_id:h,callback:p,itp_support:s.itpSupport,cancel_on_tap_outside:s.cancelOnTapOutside,auto_select:!1,use_fedcm_for_prompt:s.fedCmSupport}),e}let{data:g}=(0,d.ib)(f?_:void 0,"google-identity-services-script");return(0,i.useEffect)(()=>{!g||(null==t?void 0:t.id)||o.current||(g.accounts.id.prompt(t=>{"skipped"===t.getMomentType()&&e.closeGoogleOneTap()}),o.current=!0)},[e,g,null==t?void 0:t.id]),(0,i.useEffect)(()=>()=>{g&&o.current&&(o.current=!1,g.accounts.id.cancel())},[g]),null});function h(){return(0,o.tZ)(a.Route,{path:"one-tap",children:(0,o.tZ)(l.Flow.Root,{flow:"oneTap",children:(0,o.tZ)(a.Switch,{children:(0,o.tZ)(a.Route,{index:!0,children:(0,o.tZ)(p,{})})})})})}h.displayName="OneTap";let f=(0,c.withCoreSessionSwitchGuard)(h)}}]);