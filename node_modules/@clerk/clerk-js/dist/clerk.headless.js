!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(globalThis,()=>(()=>{var t={3145:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function a(t){try{l(n.next(t))}catch(t){s(t)}}function o(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,o)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(i)throw TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(2091),a="browser-tabs-lock-key";function o(t){return new Promise(function(e){return setTimeout(e,t)})}function l(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<t;n++){var r=Math.floor(Math.random()*e.length);i+=e[r]}return i}var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,i){return void 0===i&&(i=5e3),n(this,void 0,void 0,function(){var n,s,c,h,d,u;return r(this,function(r){switch(r.label){case 0:n=Date.now()+l(4),s=Date.now()+i,c=a+"-"+e,h=window.localStorage,r.label=1;case 1:if(!(Date.now()<s))return[3,8];return[4,o(30)];case 2:if(r.sent(),null!==h.getItem(c))return[3,5];return d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))];case 3:return r.sent(),h.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:if(r.sent(),null!==(u=h.getItem(c))&&(u=JSON.parse(u)).id===this.id&&u.iat===n)return this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0];return[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,function(){var i=this;return r(this,function(a){return setTimeout(function(){return n(i,void 0,void 0,function(){var i,n;return r(this,function(r){switch(r.label){case 0:return[4,s.default().lock(e)];case 1:if(r.sent(),!this.acquiredIatSet.has(e)||null===(n=(i=window.localStorage).getItem(t)))return s.default().unlock(e),[2];return(n=JSON.parse(n)).timeRefreshed=Date.now(),i.setItem(t,JSON.stringify(n)),s.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2]}})})},1e3),[2]})})},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,new Promise(function(i){var n=!1,r=Date.now(),s=!1;function a(){if(s||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(o),s=!0),!n){n=!0;var e=50-(Date.now()-r);e>0?setTimeout(i,e):i()}}window.addEventListener("storage",a),t.addToWaiting(a);var o=setTimeout(a,Math.max(0,e-Date.now()))})];case 1:return i.sent(),[2]}})})},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter(function(t){return t!==e}))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach(function(t){return t()})},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}})})},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,function(){var i,n,o;return r(this,function(r){switch(r.label){case 0:if(i=window.localStorage,n=a+"-"+e,null===(o=i.getItem(n)))return[2];if((o=JSON.parse(o)).id!==this.id)return[3,2];return[4,s.default().lock(o.iat)];case 1:r.sent(),this.acquiredIatSet.delete(o.iat),i.removeItem(n),s.default().unlock(o.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}})})},t.lockCorrector=function(){for(var e=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,s=0;s<n.length;s++){var o=n[s];if(o.includes(a)){var l=i.getItem(o);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<e||void 0!==l.timeRefreshed&&l.timeRefreshed<e)&&(i.removeItem(o),r=!0)}}r&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c},2091:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,i){var n=t.locked.get(e);void 0===n?void 0===i?t.locked.set(e,[]):t.locked.set(e,[i]):void 0!==i&&(n.unshift(i),t.locked.set(e,n))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise(function(i,n){t.isLocked(e)?t.addToLocked(e,i):(t.addToLocked(e),i())})},this.unlock=function(e){var i=t.locked.get(e);if(void 0===i||0===i.length){t.locked.delete(e);return}var n=i.pop();t.locked.set(e,i),void 0!==n&&setTimeout(n,0)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return i.getInstance()}},990:function(t){t.exports=function(t,e){if("string"!=typeof t)throw TypeError("Expected a string");for(var i,n=String(t),r="",s=!!e&&!!e.extended,a=!!e&&!!e.globstar,o=!1,l=e&&"string"==typeof e.flags?e.flags:"",c=0,h=n.length;c<h;c++)switch(i=n[c]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+i;break;case"?":if(s){r+=".";break}case"[":case"]":if(s){r+=i;break}case"{":if(s){o=!0,r+="(";break}case"}":if(s){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+i;break;case"*":for(var d=n[c-1],u=1;"*"===n[c+1];)u++,c++;var p=n[c+1];a?u>1&&("/"===d||void 0===d)&&("/"===p||void 0===p)?(r+="((?:[^/]*(?:/|$))*)",c++):r+="([^/]*)":r+=".*";break;default:r+=i}return l&&~l.indexOf("g")||(r="^"+r+"$"),new RegExp(r,l)}},7446:function(t){var e=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function h(t,i,n,s){var a,o,l,c,h=Object.create((i&&i.prototype instanceof v?i:v).prototype);return r(h,"_invoke",{value:(a=t,o=n,l=new O(s||[]),c=u,function(t,i){if(c===p)throw Error("Generator is already running");if(c===f){if("throw"===t)throw i;return E()}for(l.method=t,l.arg=i;;){var n=l.delegate;if(n){var r=function t(i,n){var r=n.method,s=i.iterator[r];if(e===s)return n.delegate=null,"throw"===r&&i.iterator.return&&(n.method="return",n.arg=e,t(i,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(s,i.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,m)}(n,l);if(r){if(r===m)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===u)throw c=f,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var s=d(a,o,l);if("normal"===s.type){if(c=l.done?f:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:l.done}}"throw"===s.type&&(c=f,l.method="throw",l.arg=s.arg)}})}),h}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var u="suspendedStart",p="executing",f="completed",m={};function v(){}function _(){}function g(){}var w={};c(w,a,function(){return this});var b=Object.getPrototypeOf,y=b&&b(b(C([])));y&&y!==i&&n.call(y,a)&&(w=y);var S=g.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function U(t,e){var i;r(this,"_invoke",{value:function(r,s){function a(){return new e(function(i,a){!function i(r,s,a,o){var l=d(t[r],t,s);if("throw"===l.type)o(l.arg);else{var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,o)},function(t){i("throw",t,a,o)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,o)})}}(r,s,i,a)})}return i=i?i.then(a,a):a()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var i=t[a];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:E}}function E(){return{value:e,done:!0}}return _.prototype=g,r(S,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:_,configurable:!0}),_.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},k(U.prototype),c(U.prototype,o,function(){return this}),t.AsyncIterator=U,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var a=new U(h(e,i,n,r),s);return t.isGeneratorFunction(i)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(S),c(S,l,"Generator"),c(S,a,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return o.type="throw",o.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return(a.type=t,a.arg=e,s)?(this.method="next",this.next=s.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),I(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;I(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:C(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},9906:function(t,e,i){"use strict";let n;function r(t,e){return e.get?e.get.call(t):e.value}function s(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function a(t,e){var i=s(t,e,"get");return r(t,i)}function o(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){o(t,e),e.set(t,i)}function c(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}function h(t,e,i){var n=s(t,e,"set");return c(t,n,i),i}function d(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function u(t,e){o(t,e),e.add(t)}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f(){return"undefined"!=typeof window}i.r(e),i.d(e,{isClerkRuntimeError:()=>J.uX,isEmailLinkError:()=>J.G1,isClerkAPIResponseError:()=>J.kD,EmailLinkErrorCode:()=>J._L,Clerk:()=>r_,ClerkRuntimeError:()=>J.w$,isKnownError:()=>J.sZ,isMetamaskError:()=>J.ZC,ClerkAPIResponseError:()=>J.gO,isUserLockedError:()=>J.ay,EmailLinkError:()=>J.N}),i("7446");var m,v,_,g,w,b,y,S,k,U,A,I,O,C,E,P,T,x,R,M=RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");function W(){var t;let e=f()?null==window?void 0:window.navigator:null;return!!e&&!((t=null==e?void 0:e.userAgent)&&M.test(t))&&!(null==e?void 0:e.webdriver)}function z(){var t,e;let i=f()?null==window?void 0:window.navigator:null;if(!i)return!1;let n=null==i?void 0:i.onLine;return(null==(t=null==i?void 0:i.connection)?void 0:t.rtt)!==0&&(null==(e=null==i?void 0:i.connection)?void 0:e.downlink)!==0&&n}var N=i("2689"),F=()=>!1,L=()=>{try{return!0}catch(t){}return!1},j=new Set,D=(t,e,i)=>{let n=F()||L(),r=null!=i?i:t;!j.has(r)&&!n&&(j.add(r),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},J=i("8912"),K=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t,"base64").toString():t,V=t=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t).toString("base64"):t,B=[".lcl.dev",".lclstage.dev",".lclclerk.com"],q=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],$=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],G="pk_live_";function H(t,e={}){if(!(t=t||"")||!function(t){let e=(t=t||"").startsWith(G)||t.startsWith("pk_test_"),i=K(t.split("_")[2]||"").endsWith("$");return e&&i}(t)){if(e.fatal)throw Error("Publishable key not valid.");return null}let i=t.startsWith(G)?"production":"development",n=K(t.split("_")[2]);return n=n.slice(0,-1),e.proxyUrl?n=e.proxyUrl:"development"!==i&&e.domain&&(n=`clerk.${e.domain}`),{instanceType:i,frontendApi:n}}async function Y(t,e=globalThis.crypto.subtle){let i=new TextEncoder().encode(t);return V(String.fromCharCode(...new Uint8Array(await e.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var X=(t,e)=>`${t}_${e}`,Z=class{constructor(t){this.eventTarget=window,this.postMessage=t=>{if("undefined"!=typeof window)try{window.localStorage.setItem(this.channelKey,JSON.stringify(t)),window.localStorage.removeItem(this.channelKey)}catch(t){}},this.addEventListener=(t,e)=>{this.eventTarget.addEventListener(this.prefixEventName(t),t=>{e(t)})},this.setupLocalStorageListener=()=>{window.addEventListener("storage",t=>{if(t.key===this.channelKey&&t.newValue)try{let e=JSON.parse(t.newValue||""),i=new MessageEvent(this.prefixEventName("message"),{data:e});this.eventTarget.dispatchEvent(i)}catch(t){}})},this.channelKey="__lsbc__"+t,this.setupLocalStorageListener()}prefixEventName(t){return this.channelKey+t}},Q=new Set,tt={warnOnce:t=>{!Q.has(t)&&(Q.add(t),console.warn(t))},logOnce:t=>{!Q.has(t)&&(console.log(t),Q.add(t))}};function te(t){return/^http(s)?:\/\//.test(t||"")}function ti(t){return t.startsWith("/")}function tn(t){return t?t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}var tr=t=>{let e=i=>{if(!i)return i;if(Array.isArray(i))return i.map(t=>"object"==typeof t||Array.isArray(t)?e(t):t);let n={...i};for(let i of Object.keys(n)){let r=t(i.toString());r!==i&&(n[r]=n[i],delete n[i]),"object"==typeof n[r]&&(n[r]=e(n[r]))}return n};return e},ts=tr(tn),ta=tr(function(t){return t?t.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""});function to(t){if("boolean"==typeof t)return t;if(null==t)return!1;if("string"==typeof t){if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1}let e=parseInt(t,10);return!isNaN(e)&&e>0}var tl=class{constructor(){(0,N.Ko)(this,_),(0,N.Ko)(this,m,"clerk_telemetry_throttler"),(0,N.Ko)(this,v,864e5)}isEventThrottled(t){var e;if(!(0,N.ac)(this,_,b))return!1;let i=Date.now(),n=(0,N.U9)(this,_,g).call(this,t),r=null==(e=(0,N.ac)(this,_,w))?void 0:e[n];if(!r){let t={...(0,N.ac)(this,_,w),[n]:i};localStorage.setItem((0,N.ac)(this,m),JSON.stringify(t))}if(r&&i-r>(0,N.ac)(this,v)){let t=(0,N.ac)(this,_,w);delete t[n],localStorage.setItem((0,N.ac)(this,m),JSON.stringify(t))}return!!r}};m=new WeakMap,v=new WeakMap,_=new WeakSet,g=function(t){let{sk:e,pk:i,payload:n,...r}=t,s={...n,...r};return JSON.stringify(Object.keys({...n,...r}).sort().map(t=>s[t]))},w=function(){let t=localStorage.getItem((0,N.ac)(this,m));return t?JSON.parse(t):{}},b=function(){if("undefined"==typeof window)return!1;let t=window.localStorage;if(!t)return!1;try{let e="test";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t.length>0&&t.removeItem((0,N.ac)(this,m)),!1}};var tc={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},th=class{constructor(t){var e,i,n,r,s,a;(0,N.Ko)(this,I),(0,N.Ko)(this,y),(0,N.Ko)(this,S),(0,N.Ko)(this,k,{}),(0,N.Ko)(this,U,[]),(0,N.Ko)(this,A),(0,N.qx)(this,y,{maxBufferSize:null!=(e=t.maxBufferSize)?e:tc.maxBufferSize,samplingRate:null!=(i=t.samplingRate)?i:tc.samplingRate,disabled:null!=(n=t.disabled)&&n,debug:null!=(r=t.debug)&&r,endpoint:tc.endpoint}),t.clerkVersion||"undefined"!=typeof window?(0,N.ac)(this,k).clerkVersion=null!=(s=t.clerkVersion)?s:"":(0,N.ac)(this,k).clerkVersion="",(0,N.ac)(this,k).sdk=t.sdk,(0,N.ac)(this,k).sdkVersion=t.sdkVersion,(0,N.ac)(this,k).publishableKey=null!=(a=t.publishableKey)?a:"";let o=H(t.publishableKey);o&&((0,N.ac)(this,k).instanceType=o.instanceType),t.secretKey&&((0,N.ac)(this,k).secretKey=t.secretKey.substring(0,16)),(0,N.qx)(this,S,new tl)}get isEnabled(){var t;return!("development"!==(0,N.ac)(this,k).instanceType||(0,N.ac)(this,y).disabled||"undefined"!=typeof process&&to(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null==(t=null==window?void 0:window.navigator)||!t.webdriver)}get isDebug(){return(0,N.ac)(this,y).debug||"undefined"!=typeof process&&to(process.env.CLERK_TELEMETRY_DEBUG)}record(t){let e=(0,N.U9)(this,I,R).call(this,t.event,t.payload);(0,N.U9)(this,I,T).call(this,e.event,e),(0,N.U9)(this,I,O).call(this,e,t.eventSamplingRate)&&((0,N.ac)(this,U).push(e),(0,N.U9)(this,I,E).call(this))}};function td(t,e){var i,n,r;return{event:"COMPONENT_MOUNTED",eventSamplingRate:.1,payload:{component:t,appearanceProp:!!(null==e?void 0:e.appearance),baseTheme:!!(null==(i=null==e?void 0:e.appearance)?void 0:i.baseTheme),elements:!!(null==(n=null==e?void 0:e.appearance)?void 0:n.elements),variables:!!(null==(r=null==e?void 0:e.appearance)?void 0:r.variables)}}}y=new WeakMap,S=new WeakMap,k=new WeakMap,U=new WeakMap,A=new WeakMap,I=new WeakSet,O=function(t,e){return this.isEnabled&&!this.isDebug&&(0,N.U9)(this,I,C).call(this,t,e)},C=function(t,e){let i=Math.random();return!(0,N.ac)(this,S).isEventThrottled(t)&&i<=(0,N.ac)(this,y).samplingRate&&(void 0===e||i<=e)},E=function(){if("undefined"==typeof window){(0,N.U9)(this,I,P).call(this);return}if((0,N.ac)(this,U).length>=(0,N.ac)(this,y).maxBufferSize){(0,N.ac)(this,A)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,N.ac)(this,A)),(0,N.U9)(this,I,P).call(this);return}!(0,N.ac)(this,A)&&("requestIdleCallback"in window?(0,N.qx)(this,A,requestIdleCallback(()=>{(0,N.U9)(this,I,P).call(this)})):(0,N.qx)(this,A,setTimeout(()=>{(0,N.U9)(this,I,P).call(this)},0)))},P=function(){fetch(new URL("/v1/event",(0,N.ac)(this,y).endpoint),{method:"POST",body:JSON.stringify({events:(0,N.ac)(this,U)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{(0,N.qx)(this,U,[])}).catch(()=>void 0)},T=function(t,e){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",t),console.log(e),console.groupEnd()):console.log("[clerk/telemetry]",t,e))},x=function(){let t={name:(0,N.ac)(this,k).sdk,version:(0,N.ac)(this,k).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(t={...t,...window.Clerk.constructor.sdkMetadata}),t},R=function(t,e){var i,n;let r=(0,N.U9)(this,I,x).call(this);return{event:t,cv:null!=(i=(0,N.ac)(this,k).clerkVersion)?i:"",it:null!=(n=(0,N.ac)(this,k).instanceType)?n:"",sdk:r.name,sdkv:r.version,...(0,N.ac)(this,k).publishableKey?{pk:(0,N.ac)(this,k).publishableKey}:{},...(0,N.ac)(this,k).secretKey?{sk:(0,N.ac)(this,k).secretKey}:{},payload:e}};var tu={firstDelay:125,maxDelay:0,timeMultiple:2,shouldRetry:()=>!0},tp=async t=>new Promise(e=>setTimeout(e,t)),tf=t=>{let e=0,i=()=>{let i=t.firstDelay*Math.pow(t.timeMultiple,e);return Math.min(t.maxDelay||i,i)};return async()=>{await tp(i()),e++}},tm=async(t,e={})=>{let i=0,{shouldRetry:n,firstDelay:r,maxDelay:s,timeMultiple:a}={...tu,...e},o=tf({firstDelay:r,maxDelay:s,timeMultiple:a});for(;;)try{return await t()}catch(t){if(!n(t,++i))throw t;await o()}};function tv(t,e,i){return"function"==typeof t?t(e):void 0!==t?t:void 0!==i?i:void 0}var t_=(...t)=>{};let tg="clerk:beforeunload",tw=["http:","https:","wails:","chrome-extension:"];function tb(t){let e=new URL(t,window.location.href);window.dispatchEvent(new CustomEvent(tg)),window.location.href=e.href}let ty=()=>{let t=!1,e=()=>t=!0;return{startTracking:()=>{window.addEventListener("beforeunload",e),window.addEventListener(tg,e)},stopTracking:()=>{window.removeEventListener("beforeunload",e),window.removeEventListener(tg,e)},isUnloading:()=>t}},tS=t=>{let{signUp:e,verifyEmailPath:i,verifyPhonePath:n,continuePath:r,navigate:s,handleComplete:a,redirectUrl:o="",redirectUrlComplete:l=""}=t;if("complete"===e.status)return a&&a();if("missing_requirements"===e.status){var c,h;if(e.missingFields.some(t=>"saml"===t||"enterprise_sso"===t))return e.authenticateWithRedirect({strategy:"enterprise_sso",redirectUrl:o,redirectUrlComplete:l,continueSignUp:!0});if((null===(c=e.unverifiedFields)||void 0===c?void 0:c.includes("email_address"))&&i)return s(i);if((null===(h=e.unverifiedFields)||void 0===h?void 0:h.includes("phone_number"))&&n)return s(n);if(r)return s(r)}},tk=(t,e)=>!!(t.session&&(null==e?void 0:e.authConfig.singleSessionMode)),tU=t=>!t.user,tA=t=>!t.organization,tI=(t,e)=>!(null==e?void 0:e.organizationSettings.enabled);function tO(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.errors&&!!t.errors.find(t=>t.code===e)}let tC=(0,J.t5)({packageName:"@clerk/clerk-js"});function tE(t){return new URL(window.location.href).searchParams.get(t)||null}function tP(t){let e=new URL(window.location.href);e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(window.history.state,"",e))}let tT=t=>!!t&&"object"==typeof t&&"target"in t&&"currentTarget"in t&&"preventDefault"in t;var tx=i("990"),tR={toRegexp:t=>{try{return tx(t)}catch(e){throw Error(`Invalid pattern: ${t}.
Consult the documentation of glob-to-regexp here: https://www.npmjs.com/package/glob-to-regexp.
${e.message}`)}}};let tM=RegExp("/{1,}","g"),tW=t=>{let e={};return new URLSearchParams(t).forEach((t,i)=>{if(i in e){let n=e[i];Array.isArray(n)?n.push(t):e[i]=[n,t]}else e[i]=t}),e},tz=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||!t||"object"!=typeof t)return"";let i=new URLSearchParams;return Object.keys(t).forEach(n=>{let r=e.keyEncoder?e.keyEncoder(n):n,s=t[n];if(Array.isArray(s))s.forEach(t=>void 0!==t&&i.append(r,t||""));else{if(void 0===s)return;"object"==typeof s&&null!==s?i.append(r,JSON.stringify(s)):i.append(r,String(null!=s?s:""))}}),i.toString()},tN="http://clerk-dummy",tF=["javascript:"],{isDevOrStagingUrl:tL}=function(){let t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;let i="string"==typeof e?e:e.hostname,n=t.get(i);return void 0===n&&(n=$.some(t=>i.endsWith(t)),t.set(i,n)),n}}}(),tj=new Map;function tD(t){return t.replace("clerk.","")}function tJ(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{base:i,hashPath:n,hashSearch:r,searchParams:s,hashSearchParams:a,...o}=t,l="",c=new URL(i||"","undefined"!=typeof window&&window.location?window.location.href:"http://react-native-fake-base-url");if(s instanceof URLSearchParams&&s.forEach((t,e)=>{null!=t&&c.searchParams.set(tn(e),t)}),Object.assign(c,o),n||r||a){let t=new URL(tN+c.hash.substring(1));for(let[e,i]of(t.pathname=[t.pathname,n||""].filter(t=>t).join("/").replace(tM,"/"),Object.entries(tW(r||""))))t.searchParams.append(e,i);if(a)for(let e of Array.isArray(a)?a:[a])(e instanceof URLSearchParams||"object"==typeof e)&&new URLSearchParams(e).forEach((e,i)=>{null!=e&&t.searchParams.set(tn(i),e)});let e=t.href.replace(tN,"");"/"!==e&&(c.hash=e)}let{stringify:h,skipOrigin:d}=e;return h?d?c.href.replace(c.origin,""):c.href:c}let tK=t=>(t||"").replace(/\/+$/,""),tV=t=>{let{externalAccount:e}=t.verifications;return!!e.error};function tB(t,e){try{return new URL(t)}catch(i){return new URL(t,e)}}let tq=[/\0/,/^\/\//,/[\x00-\x1F]/],t$=["/oauth/authorize"],tG=["/v1/verify","/v1/tickets/accept"],tH=(t,e)=>i=>{let n=i;if("string"==typeof n&&(n=tB(n,e)),!t)return!0;let r=e===n.origin,s=!function(t){if(function(t){if(!function(t){if(!t)return!1;try{return new URL(t),!0}catch(t){return!1}}(t))return!1;let e=new URL(t).protocol;return tF.some(t=>t===e)}(t))return!0;for(let e of tq)if(e.test(t.pathname))return!0;return!1}(n)&&(r||t.map(t=>"string"==typeof t?tR.toRegexp(tK(t)):t).some(t=>t.test(tK(n.origin))));return s||tt.warnOnce("Clerk: Redirect URL ".concat(n," is not on one of the allowedRedirectOrigins, falling back to the default redirect URL.")),s};function tY(t){var e;return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(i.g.atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}function tX(t){let e=(t||"").split("."),[i,n,r]=e;if(3!==e.length||!i||!n||!r)throw Error("JWT could not be decoded");let s=JSON.parse(tY(n)),a={__raw:t};return Object.keys(s).forEach(t=>{a[t]=s[t]}),{encoded:{header:i,payload:n,signature:r},header:JSON.parse(tY(i)),claims:a}}let tZ=()=>{},tQ=()=>{if(!f())return{onPageFocus:tZ};let t={focus:[]};return window.addEventListener("focus",()=>{"visible"===document.visibilityState&&t.focus.forEach(t=>t())}),{onPageFocus:e=>{t.focus.push(e)}}};function t0(){return void 0!==globalThis.document}function t1(){return t0()&&window.self!==window.top&&!window.frameElement}function t3(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}function t2(t,e){if(void 0===t)throw TypeError("attempted to "+e+" private static field before its declaration")}function t9(t,e,i){return t3(t,e),t2(i,"get"),r(t,i)}var t6=new WeakMap,t4=new WeakMap,t5=new WeakMap;class t8{static getInstance(){if(!t9(t8,t8,t7)){var t;t=new t8,t3(t8,t8),t2(t7,"set"),c(t8,t7,t)}return t9(t8,t8,t7)}constructor(){if(l(this,t6,{writable:!0,value:[]}),l(this,t4,{writable:!0,value:{metamask:"MetaMask",okx_wallet:"OKX Wallet"}}),p(this,"get",t=>{var e;let i=null===(e=a(this,t6).find(e=>e.info.name===a(this,t4)[t]))||void 0===e?void 0:e.provider;return void 0!==i?i:window.ethereum}),l(this,t5,{writable:!0,value:t=>{!a(this,t6).some(e=>e.info.uuid===t.detail.info.uuid)&&a(this,t6).push(t.detail)}}),"undefined"==typeof window)return;window.addEventListener("eip6963:announceProvider",a(this,t5)),window.dispatchEvent(new Event("eip6963:requestProvider"))}}var t7={writable:!0,value:null};let et=()=>t8.getInstance();async function ee(t){let{provider:e}=t,i=await ec(e);if(!i)return"";let n=await i.request({method:"eth_requestAccounts"});return n&&n[0]||""}async function ei(t){let{identifier:e,nonce:i,provider:n}=t,r=await ec(n);return r?await r.request({method:"personal_sign",params:["0x".concat(i.split("").map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("")),e]}):""}async function en(){return await ee({provider:"metamask"})}async function er(){return await ee({provider:"coinbase_wallet"})}async function es(){return await ee({provider:"okx_wallet"})}async function ea(t){return await ei({...t,provider:"metamask"})}async function eo(t){return await ei({...t,provider:"coinbase_wallet"})}async function el(t){return await ei({...t,provider:"okx_wallet"})}async function ec(t){return"coinbase_wallet"===t?new(await i.e("88").then(i.bind(i,6850)).then(t=>t.CoinbaseWalletSDK))({}).makeWeb3Provider({options:"all"}):et().get(t)}function eh(t){let e=["redirectUrl","afterSignInUrl","afterSignUpUrl","after_sign_in_url","after_sign_up_url"],i=Object.keys(t).find(t=>e.includes(t));i&&t[i]&&tt.warnOnce('Clerk: The prop "'.concat(i,'" is deprecated and should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props'))}async function ed(t="",e){let{async:i,defer:n,beforeLoad:r,crossOrigin:s,nonce:a}=e||{};return tm(()=>new Promise((e,o)=>{t||o("loadScript cannot be called without a src"),document&&document.body||o("loadScript cannot be called when document does not exist");let l=document.createElement("script");s&&l.setAttribute("crossorigin",s),l.async=i||!1,l.defer=n||!1,l.addEventListener("load",()=>{l.remove(),e(l)}),l.addEventListener("error",()=>{l.remove(),o()}),l.src=t,l.nonce=a,null==r||r(l),document.body.appendChild(l)}),{shouldRetry:(t,e)=>e<5})}let eu="clerk-captcha",ep="clerk-invisible-captcha",ef=t=>!!["crashed","undefined_error","102","103","104","106","110600","300","600"].find(e=>t.startsWith(e));async function em(t){return window.turnstile||await ev().catch(()=>e_(t)).catch(()=>{throw{captchaError:"captcha_script_failed_to_load"}}),window.turnstile}async function ev(){try{return await ed("https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",{defer:!0})}catch(t){throw console.warn("Clerk: Failed to load the CAPTCHA script from Cloudflare. If you see a CSP error in your browser, please add the necessary CSP rules to your app. Visit https://clerk.com/docs/security/clerk-csp for more information."),t}}async function e_(t){try{return await ed(t,{defer:!0})}catch(e){throw console.error("Clerk: Failed to load the CAPTCHA script from the URL: ",t),e}}let eg=async t=>{let e;let{siteKey:i,scriptUrl:n,widgetType:r,invisibleSiteKey:s}=t,{modalContainerQuerySelector:a,modalWrapperQuerySelector:o,closeModal:l,openModal:c}=t,h=await em(n),d=[],u="",p="",f=i,m=0,v=null;if(a&&o)v=r,e=a,await (null==c?void 0:c()),await new Promise(t=>{if(document.querySelector(a))return t(document.querySelector(a));let e=new MutationObserver(()=>{document.querySelector(a)&&(e.disconnect(),t(document.querySelector(a)))});e.observe(document.body,{childList:!0,subtree:!0})});if(!e&&"smart"===r){let t=document.getElementById(eu);t?(v="smart",e="#".concat(eu),t.style.display="block"):console.error("Cannot initialize Smart CAPTCHA widget because the `clerk-captcha` DOM element was not found; falling back to Invisible CAPTCHA widget. If you are using a custom flow, visit https://clerk.com/docs/custom-flows/bot-sign-up-protection for instructions")}if(!e){f=s,v="invisible",e=".".concat(ep);let t=document.createElement("div");t.classList.add(ep),document.body.appendChild(t)}let _=async()=>new Promise((t,i)=>{try{let n=h.render(e,{sitekey:f,appearance:"interaction-only",retry:"never","refresh-expired":"auto",callback:function(e){null==l||l(),t([e,n])},"before-interactive-callback":async()=>{if(o){let t=document.querySelector(o);null==t||t.style.setProperty("visibility","visible"),null==t||t.style.setProperty("pointer-events","all");return}},"error-callback":function(t){if(d.push(t),m<2&&ef(t.toString())){setTimeout(()=>{h.reset(n),m++},250);return}i([d.join(","),n])},"unsupported-callback":function(){return i(["This browser is not supported by the CAPTCHA.",n]),!0}})}catch(t){i([t,void 0])}});try{[u,p]=await _(),h.remove(p)}catch(i){let[t,e]=i;throw e&&h.remove(e),{captchaError:t}}finally{null==l||l();let t=document.querySelector(".".concat(ep));t&&document.body.removeChild(t);let e=document.getElementById(eu);e&&(e.style.display="none")}return{captchaToken:u,captchaWidgetType:v}},ew=t=>eg(t),eb="__clerk_synced",ey="__clerk_satellite_url",eS={FORM_IDENTIFIER_NOT_FOUND:"form_identifier_not_found"},ek="ClerkJS:";function eU(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(ek," Something went wrong initializing Clerk in development mode.").concat(t&&" ".concat(t)))}function eA(t){throw Error("".concat(ek," Token refresh failed (error='").concat(t,"')"))}function eI(t){throw Error("".concat(ek," Something went wrong initializing Clerk during the ").concat(t," flow. Please contact support."))}function eO(t){throw Error("".concat(ek," You need to start a ").concat(t," flow by calling ").concat(t,".create() first."))}function eC(t,e){throw Error("".concat(ek,' Strategy "').concat(e,'" is not a valid strategy for ').concat(t,"."))}function eE(t){throw Error("".concat(ek," You need to start a ").concat(t," flow by calling ").concat(t,".create({ identifier: 'your web3 wallet address' }) first"))}function eP(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(ek," Missing '").concat(t,"' option"))}function eT(t,e){throw Error("".concat(ek," Response: ").concat(t||0," not supported yet.\nFor more information contact us at ").concat(e))}function ex(t){throw Error("".concat(ek," Missing publicKey. When calling 'navigator.credentials.").concat(t,"()' it is required to pass a publicKey object."))}let eR=["/client","/waitlist"];function eM(t){let e=[],i=[];async function n(t){for await(let i of["undefined"!=typeof window&&window.__unstable__onBeforeRequest,...e].filter(t=>t))if(await i(t)===!1)return!1;return!0}async function r(t,e){for await(let n of["undefined"!=typeof window&&window.__unstable__onAfterResponse,...i].filter(t=>t))if(await n(t,e)===!1)return!1;return!0}function s(e){let{method:i,path:n,sessionId:r,search:s,rotatingTokenNonce:a}=e,o=new URLSearchParams(s);return o.append("__clerk_api_version","2024-10-01"),t.version&&o.append("_clerk_js_version",t.version),a&&o.append("rotating_token_nonce",a),"development"===t.instanceType&&t.isSatellite&&o.append("__domain",t.domain),i&&"GET"!==i&&"POST"!==i&&o.append("_method",i),n&&!eR.some(t=>n.startsWith(t))&&r&&o.append("_clerk_session_id",r),tz([...o.entries()].reduce((t,e)=>{let[i,n]=e;return t[i]=n.includes(",")?n.split(","):n,t},{}))}function a(e){let{path:i,pathPrefix:n="v1"}=e,{proxyUrl:r,domain:a,frontendApi:o,instanceType:l}=t;if(r){let t=new URL(r),a=t.pathname.slice(1,t.pathname.length);return tJ({base:t.origin,pathname:"".concat(a,"/").concat(n).concat(i),search:s(e)},{stringify:!1})}return tJ({base:"https://".concat(("production"===l?a:"")||o),pathname:"".concat(n).concat(i),search:s(e)},{stringify:!1})}async function o(e,i){var s,o;let l;let c={...e},{method:h="GET",body:d}=c;c.url=a({...c,sessionId:null===(s=t.session)||void 0===s?void 0:s.id}),c.headers||(c.headers=new Headers),"GET"===h||d instanceof FormData||c.headers.has("content-type")||c.headers.set("content-type","application/x-www-form-urlencoded"),"application/x-www-form-urlencoded"===c.headers.get("content-type")&&(c.body=d?tz(d,{keyEncoder:tn}):d);let u=await n(c),p="GET"===h?"GET":"POST",f=c.url.toString(),m={...c,credentials:"include",method:p};try{if(u){let t=null!==(o=null==i?void 0:i.fetchMaxTries)&&void 0!==o?o:z()?4:11;l="GET"===p?await tm(()=>fetch(f,m),{firstDelay:500,maxDelay:3e3,shouldRetry:(e,i)=>i<t}):await fetch(f,m)}else l=new Response("{}",c)}catch(t){!function(t,e){throw Error("".concat(ek,' Network error at "').concat(t,'" - ').concat(e,". Please try again."))}(f,t)}let v=await l.json(),_=Object.assign(l,{payload:v});return await r(c,_),_}return{buildEmailAddress:function(e){return function(t){let{localPart:e,frontendApi:i}=t,n=i?i.replace("clerk.",""):"clerk.com";return"".concat(e,"@").concat(n)}({localPart:e,frontendApi:t.frontendApi})},buildUrl:a,onAfterResponse:function(t){i.push(t)},onBeforeRequest:function(t){e.push(t)},request:o}}let eW=t=>{let e=t.__unstable__environment,i=eM(t),n=e?e.displayConfig.captchaProvider:"turnstile";return{captchaSiteKey:e?e.displayConfig.captchaPublicKey:null,captchaWidgetType:e?e.displayConfig.captchaWidgetType:null,captchaProvider:n,captchaPublicKeyInvisible:e?e.displayConfig.captchaPublicKeyInvisible:null,canUseCaptcha:e?e.userSettings.signUp.captcha_enabled&&t.isStandardBrowser:null,captchaURL:i.buildUrl({path:"cloudflare/turnstile/v0/api.js",pathPrefix:"",search:"?render=explicit"}).toString()}};class ez{async invisible(){let{captchaSiteKey:t,canUseCaptcha:e,captchaURL:i,captchaPublicKeyInvisible:n}=eW(this.clerk);if(e&&t&&i&&n)return ew({siteKey:n,invisibleSiteKey:n,widgetType:"invisible",scriptUrl:i,captchaProvider:"turnstile"}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}})}async managed(){let{captchaSiteKey:t,canUseCaptcha:e,captchaURL:i,captchaWidgetType:n,captchaProvider:r,captchaPublicKeyInvisible:s}=eW(this.clerk);return e&&t&&i&&s?ew({siteKey:t,widgetType:n,invisibleSiteKey:s,scriptUrl:i,captchaProvider:r,modalWrapperQuerySelector:"#cl-modal-captcha-wrapper",modalContainerQuerySelector:"#cl-modal-captcha-container",openModal:()=>this.clerk.__internal_openBlankCaptchaModal(),closeModal:()=>this.clerk.__internal_closeBlankCaptchaModal()}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}}):{}}constructor(t){p(this,"clerk",void 0),this.clerk=t}}class eN{static getInstance(t,e){return eN.instance||(eN.instance=new eN(t,e)),eN.instance}async execute(t,e){try{return this.inflightException&&await this.inflightException,await e()}catch(s){var i;let n;if(!(0,J.kD)(s)||(null===(i=s.errors[0])||void 0===i?void 0:i.code)!=="requires_captcha")throw s;if(this.inflightException)return await this.inflightException,await e();this.inflightException=new Promise(t=>n=t);let r=await this.managedChallenge(t);try{await this.client.getOrCreateInstance().sendCaptchaToken(r)}finally{n(),this.inflightException=null}return await e()}}managedChallenge(t){return new this.CaptchaChallengeImpl(t).managed()}constructor(t,e){p(this,"client",void 0),p(this,"CaptchaChallengeImpl",void 0),p(this,"inflightException",void 0),this.client=t,this.CaptchaChallengeImpl=e,this.inflightException=null}}p(eN,"instance",void 0);class eF{static get fapiClient(){return eF.clerk.getFapiClient()}async reload(t){let{rotatingTokenNonce:e}=t||{};return this._baseGet({forceUpdateClient:!0,rotatingTokenNonce:e})}isNew(){return!this.id}static async _fetch(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return eN.getInstance(eV,ez).execute(this.clerk,()=>this._baseFetch(t,e))}static async _baseFetch(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eF.fapiClient||function(){throw Error("".concat(ek," Missing FAPI client in resources."))}();let{fetchMaxTries:n}=i;try{e=await eF.fapiClient.request(t,{fetchMaxTries:n})}catch(t){if(this.shouldRethrowOfflineNetworkErrors())throw new J.w$((null==t?void 0:t.message)||t,{code:"network_error"});if(!(z()&&W()))return console.warn(t),null;throw t}let{payload:r,status:s,statusText:a,headers:o}=e;if(o){let t=o.get("x-country");this.clerk.__internal_setCountry(t?t.toLowerCase():null)}if(("GET"!==t.method||i.forceUpdateClient)&&this._updateClient(r),s>=200&&s<=299)return r;if(s>=400){var l,c;let t=null==r?void 0:r.errors,e=null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.long_message,i=null==t?void 0:null===(c=t[0])||void 0===c?void 0:c.code;throw 401===s&&"requires_captcha"!==i&&await eF.clerk.handleUnauthenticated(),!function(t,e){var i;if(!e||!e[0])return;let n=e[0],r=n.long_message;if("origin_invalid"===n.code&&((i=eF.clerk.publishableKey).startsWith("live_")||i.startsWith("pk_live_"))){let i=eF.clerk.frontendApi.replace("clerk.","");throw new J.gO('Clerk: Production Keys are only allowed for domain "'.concat(i,'". \nAPI Error: ').concat(r),{data:e,status:t})}}(s,t),new J.gO(e||a,{data:t,status:s})}return null}static _updateClient(t){var e;if(!t)return;let i=t.client||(null===(e=t.meta)||void 0===e?void 0:e.client);i&&eF.clerk&&eF.clerk.updateClient(eV.getOrCreateInstance().fromJSON(i))}path(t){let e=this.pathRoot;if(this.isNew())return e;let i=e.replace(/[^/]$/,"$&/")+encodeURIComponent(this.id);return t?i.replace(/[^/]$/,"$&/")+encodeURIComponent(t):i}async _baseGet(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=await eF._fetch({method:"GET",path:this.path(),rotatingTokenNonce:t.rotatingTokenNonce},t);return this.fromJSON((null==e?void 0:e.response)||e)}async _baseMutate(t){let{action:e,body:i,method:n,path:r}=t,s=await eF._fetch({method:n,path:r||this.path(e),body:i});return this.fromJSON((null==s?void 0:s.response)||s)}async _baseMutateBypass(t){let{action:e,body:i,method:n,path:r}=t,s=await eF._baseFetch({method:n,path:r||this.path(e),body:i});return this.fromJSON((null==s?void 0:s.response)||s)}async _basePost(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"POST"})}async _basePut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PUT"})}async _basePatch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PATCH"})}async _basePatchBypass(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutateBypass({...t,method:"PATCH"})}async _baseDelete(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._baseMutate({...t,method:"DELETE"})}static shouldRethrowOfflineNetworkErrors(){var t,e;let i=null===(e=eF.clerk)||void 0===e?void 0:null===(t=e.__internal_getOption)||void 0===t?void 0:t.call(e,"experimental");return(null==i?void 0:i.rethrowOfflineNetworkErrors)||!1}constructor(){p(this,"id",void 0),p(this,"pathRoot","")}}p(eF,"clerk",void 0);class eL extends eF{get instanceIsPasswordBased(){return this.attributes.password.enabled&&this.attributes.password.required}get hasValidAuthFactor(){return this.attributes.email_address.enabled||this.attributes.phone_number.enabled||this.attributes.password.required&&this.attributes.username.required}fromJSON(t){var e,i,n,r,s;return t&&(this.social=t.social,this.saml=t.saml,this.enterpriseSSO=t.enterprise_sso,this.attributes=Object.fromEntries(Object.entries(t.attributes).map(t=>[t[0],{...t[1],name:t[0]}])),this.actions=t.actions,this.signIn=t.sign_in,this.signUp=t.sign_up,this.passwordSettings={...t.password_settings,min_length:Math.max(null==t?void 0:null===(e=t.password_settings)||void 0===e?void 0:e.min_length,8),max_length:(null==t?void 0:null===(i=t.password_settings)||void 0===i?void 0:i.max_length)===0?72:Math.min(null==t?void 0:null===(n=t.password_settings)||void 0===n?void 0:n.max_length,72)},this.usernameSettings={...t.username_settings,min_length:Math.max(null==t?void 0:null===(r=t.username_settings)||void 0===r?void 0:r.min_length,4),max_length:Math.min(null==t?void 0:null===(s=t.username_settings)||void 0===s?void 0:s.max_length,64)},this.passkeySettings=t.passkey_settings,this.socialProviderStrategies=this.getSocialProviderStrategies(t.social),this.authenticatableSocialStrategies=this.getAuthenticatableSocialStrategies(t.social),this.web3FirstFactors=this.getWeb3FirstFactors(this.attributes),this.enabledFirstFactorIdentifiers=this.getEnabledFirstFactorIdentifiers(this.attributes)),this}__internal_toSnapshot(){return{social:this.social,saml:this.saml,attributes:this.attributes,actions:this.actions,sign_in:this.signIn,sign_up:this.signUp,password_settings:this.passwordSettings,passkey_settings:this.passkeySettings}}getEnabledFirstFactorIdentifiers(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&!e.startsWith("web3")}).map(t=>{let[e]=t;return e}):[]}getWeb3FirstFactors(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&e.startsWith("web3")}).map(t=>{let[,e]=t;return e.first_factors}).flat():[]}getSocialProviderStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}getAuthenticatableSocialStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled&&e.authenticatable}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}constructor(t){super(),p(this,"id",void 0),p(this,"social",void 0),p(this,"saml",void 0),p(this,"enterpriseSSO",void 0),p(this,"attributes",void 0),p(this,"actions",void 0),p(this,"signIn",void 0),p(this,"signUp",void 0),p(this,"passwordSettings",void 0),p(this,"passkeySettings",void 0),p(this,"usernameSettings",void 0),p(this,"socialProviderStrategies",[]),p(this,"authenticatableSocialStrategies",[]),p(this,"web3FirstFactors",[]),p(this,"enabledFirstFactorIdentifiers",[]),this.fromJSON(t)}}function ej(t){let e=new Date(t||new Date);return e instanceof Date&&!isNaN(e.getTime())?e:new Date}class eD extends eF{fromJSON(t){return this.singleSessionMode=!t||t.single_session_mode,this.claimedAt=(null==t?void 0:t.claimed_at)?ej(t.claimed_at):null,this}__internal_toSnapshot(){return{object:"auth_config",id:this.id||"",single_session_mode:this.singleSessionMode,claimed_at:this.claimedAt?this.claimedAt.getTime():null}}constructor(t){super(),p(this,"singleSessionMode",void 0),p(this,"claimedAt",null),this.fromJSON(t)}}class eJ{static fromKey(t){let[e,i,n=""]=t.split("::");return new eJ(e,{audience:n,tokenId:i})}toKey(){let{tokenId:t,audience:e}=this.data;return[this.prefix,t,e||""].join("::")}constructor(t,e){p(this,"prefix",void 0),p(this,"data",void 0),this.prefix=t,this.data=e,this.prefix=t,this.data=e}}let eK=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clerk",i=new Map;return{get:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=new eJ(e,t),s=i.get(r.toKey());if(!s)return;let a=Math.floor(Date.now()/1e3)-s.createdAt;if(s.expiresIn-a<(n||1)+5){i.delete(r.toKey());return}return s.entry},set:n=>{let r=new eJ(e,{audience:n.audience,tokenId:n.tokenId}).toKey(),s={entry:n,createdAt:Math.floor(Date.now()/1e3)},a=()=>{i.get(r)===s&&i.delete(r)};n.tokenResolver.then(e=>{if(!e.jwt)return a();let i=e.jwt.claims.exp-e.jwt.claims.iat;s.expiresIn=i,"function"==typeof(t=setTimeout(a,1e3*i)).unref&&t.unref()}).catch(()=>{a()}),i.set(r,s)},clear:()=>{clearTimeout(t),i.clear()},size:()=>i.size}}();class eV extends eF{static getOrCreateInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return eV.instance||(eV.instance=new eV(t)),eV.instance}static clearInstance(){eV.instance=null}static isClientResource(t){return!!t&&t instanceof eV}get signUpAttempt(){return this.signUp}get signInAttempt(){return this.signIn}get activeSessions(){return this.sessions.filter(t=>"active"===t.status)}create(){return this._basePut()}fetch(){let{fetchMaxTries:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseGet({fetchMaxTries:t})}async destroy(){return this._baseDelete({path:"/client"}).then(()=>{eK.clear(),this.id="",this.sessions=[],this.signUp=new iq(null),this.signIn=new iK(null),this.lastActiveSessionId=null,this.cookieExpiresAt=null,this.createdAt=null,this.updatedAt=null})}removeSessions(){return this._baseDelete({path:this.path()+"/sessions"})}clearCache(){return this.sessions.forEach(t=>t.clearCache())}isEligibleForTouch(){return!!this.cookieExpiresAt&&this.cookieExpiresAt.getTime()-Date.now()<=6912e5}buildTouchUrl(t){let{redirectUrl:e}=t;return eF.fapiClient.buildUrl({method:"GET",path:"/client/touch",pathPrefix:"v1",search:{redirect_url:e.toString()}}).toString()}sendCaptchaToken(t){return this._basePatchBypass({body:t})}fromJSON(t){return t&&(this.id=t.id,this.sessions=(t.sessions||[]).map(t=>new iC(t)),this.signUp=new iq(t.sign_up),this.signIn=new iK(t.sign_in),this.lastActiveSessionId=t.last_active_session_id,this.cookieExpiresAt=t.cookie_expires_at?ej(t.cookie_expires_at):null,this.createdAt=ej(t.created_at||void 0),this.updatedAt=ej(t.updated_at||void 0)),this}__internal_toSnapshot(){var t,e,i,n;return{object:"client",status:null,id:this.id||"",sessions:this.sessions.map(t=>t.__internal_toSnapshot()),sign_up:this.signUp.__internal_toSnapshot(),sign_in:this.signIn.__internal_toSnapshot(),last_active_session_id:this.lastActiveSessionId,cookie_expires_at:this.cookieExpiresAt?this.cookieExpiresAt.getTime():null,created_at:null!==(i=null===(t=this.createdAt)||void 0===t?void 0:t.getTime())&&void 0!==i?i:null,updated_at:null!==(n=null===(e=this.updatedAt)||void 0===e?void 0:e.getTime())&&void 0!==n?n:null}}path(){return this.pathRoot}constructor(t=null){super(),p(this,"pathRoot","/client"),p(this,"sessions",[]),p(this,"signUp",new iq),p(this,"signIn",new iK),p(this,"lastActiveSessionId",null),p(this,"cookieExpiresAt",null),p(this,"createdAt",null),p(this,"updatedAt",null),this.fromJSON(t)}}p(eV,"instance",void 0);class eB{fromJSON(t){return t&&(this.object=t.object,this.id=t.id,this.slug=t.slug,this.deleted=t.deleted),this}constructor(t){p(this,"object",""),p(this,"id",void 0),p(this,"slug",void 0),p(this,"deleted",!1),this.fromJSON(t)}}class eq extends eF{fromJSON(t){return t&&(this.id=t.id,this.instanceEnvironmentType=t.instance_environment_type,this.applicationName=t.application_name,this.theme=t.theme,this.preferredSignInStrategy=t.preferred_sign_in_strategy,this.logoImageUrl=t.logo_image_url,this.faviconImageUrl=t.favicon_image_url,this.homeUrl=t.home_url,this.signInUrl=t.sign_in_url,this.signUpUrl=t.sign_up_url,this.userProfileUrl=t.user_profile_url,this.afterSignInUrl=t.after_sign_in_url,this.afterSignUpUrl=t.after_sign_up_url,this.afterSignOutOneUrl=t.after_sign_out_one_url,this.afterSignOutAllUrl=t.after_sign_out_all_url,this.afterSwitchSessionUrl=t.after_switch_session_url,this.branded=t.branded,this.captchaPublicKey=t.captcha_public_key,this.captchaWidgetType=t.captcha_widget_type,this.captchaProvider=t.captcha_provider,this.captchaPublicKeyInvisible=t.captcha_public_key_invisible,this.captchaOauthBypass=t.captcha_oauth_bypass||["oauth_google","oauth_microsoft","oauth_apple"],this.captchaHeartbeat=t.captcha_heartbeat||!1,this.captchaHeartbeatIntervalMs=t.captcha_heartbeat_interval_ms,this.supportEmail=t.support_email||"",this.clerkJSVersion=t.clerk_js_version,this.organizationProfileUrl=t.organization_profile_url,this.createOrganizationUrl=t.create_organization_url,this.afterLeaveOrganizationUrl=t.after_leave_organization_url,this.afterCreateOrganizationUrl=t.after_create_organization_url,this.googleOneTapClientId=t.google_one_tap_client_id,this.showDevModeWarning=t.show_devmode_warning,this.termsUrl=t.terms_url,this.privacyPolicyUrl=t.privacy_policy_url,this.waitlistUrl=t.waitlist_url,this.afterJoinWaitlistUrl=t.after_join_waitlist_url),this}__internal_toSnapshot(){return{object:"display_config",id:this.id,instance_environment_type:this.instanceEnvironmentType,application_name:this.applicationName,theme:this.theme,preferred_sign_in_strategy:this.preferredSignInStrategy,logo_image_url:this.logoImageUrl,favicon_image_url:this.faviconImageUrl,home_url:this.homeUrl,sign_in_url:this.signInUrl,sign_up_url:this.signUpUrl,user_profile_url:this.userProfileUrl,after_sign_in_url:this.afterSignInUrl,after_sign_up_url:this.afterSignUpUrl,after_sign_out_one_url:this.afterSignOutOneUrl,after_sign_out_all_url:this.afterSignOutAllUrl,after_switch_session_url:this.afterSwitchSessionUrl,branded:this.branded,captcha_public_key:this.captchaPublicKey,captcha_widget_type:this.captchaWidgetType,captcha_provider:this.captchaProvider,captcha_public_key_invisible:this.captchaPublicKeyInvisible,captcha_oauth_bypass:this.captchaOauthBypass,captcha_heartbeat:this.captchaHeartbeat,captcha_heartbeat_interval_ms:this.captchaHeartbeatIntervalMs,support_email:this.supportEmail,clerk_js_version:this.clerkJSVersion,organization_profile_url:this.organizationProfileUrl,create_organization_url:this.createOrganizationUrl,after_leave_organization_url:this.afterLeaveOrganizationUrl,after_create_organization_url:this.afterCreateOrganizationUrl,google_one_tap_client_id:this.googleOneTapClientId,show_devmode_warning:this.showDevModeWarning,terms_url:this.termsUrl,privacy_policy_url:this.privacyPolicyUrl,waitlist_url:this.waitlistUrl,after_join_waitlist_url:this.afterJoinWaitlistUrl}}constructor(t){super(),p(this,"id",void 0),p(this,"afterSignInUrl",void 0),p(this,"afterSignOutAllUrl",void 0),p(this,"afterSignOutOneUrl",void 0),p(this,"afterSignOutUrl",void 0),p(this,"afterSignUpUrl",void 0),p(this,"afterSwitchSessionUrl",void 0),p(this,"applicationName",void 0),p(this,"backendHost",void 0),p(this,"branded",void 0),p(this,"captchaPublicKey",null),p(this,"captchaWidgetType",null),p(this,"captchaProvider","turnstile"),p(this,"captchaPublicKeyInvisible",null),p(this,"captchaOauthBypass",[]),p(this,"captchaHeartbeat",!1),p(this,"captchaHeartbeatIntervalMs",void 0),p(this,"homeUrl",void 0),p(this,"instanceEnvironmentType",void 0),p(this,"faviconImageUrl",void 0),p(this,"logoImageUrl",void 0),p(this,"preferredSignInStrategy",void 0),p(this,"signInUrl",void 0),p(this,"signUpUrl",void 0),p(this,"supportEmail",void 0),p(this,"theme",void 0),p(this,"userProfileUrl",void 0),p(this,"clerkJSVersion",void 0),p(this,"experimental__forceOauthFirst",void 0),p(this,"organizationProfileUrl",void 0),p(this,"createOrganizationUrl",void 0),p(this,"afterLeaveOrganizationUrl",void 0),p(this,"afterCreateOrganizationUrl",void 0),p(this,"googleOneTapClientId",void 0),p(this,"showDevModeWarning",void 0),p(this,"termsUrl",void 0),p(this,"privacyPolicyUrl",void 0),p(this,"waitlistUrl",void 0),p(this,"afterJoinWaitlistUrl",void 0),this.fromJSON(t)}}var e$='const respond=r=>{self.postMessage(r)},workerToTabIds={};self.addEventListener("message",r=>{const e=r.data;switch(e.type){case"setTimeout":workerToTabIds[e.id]=setTimeout(()=>{respond({id:e.id}),delete workerToTabIds[e.id]},e.ms);break;case"clearTimeout":workerToTabIds[e.id]&&(clearTimeout(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break;case"setInterval":workerToTabIds[e.id]=setInterval(()=>{respond({id:e.id})},e.ms);break;case"clearInterval":workerToTabIds[e.id]&&(clearInterval(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break}});\n',eG=(t,e={})=>{if("undefined"==typeof Worker)return null;try{let i=new Blob([t],{type:"application/javascript; charset=utf-8"}),n=globalThis.URL.createObjectURL(i);return new Worker(n,e)}catch(t){return console.warn("Clerk: Cannot create worker from blob. Consider adding worker-src blob:; to your CSP"),null}},eH=()=>{let t=globalThis.setTimeout.bind(globalThis),e=globalThis.setInterval.bind(globalThis);return{setTimeout:t,setInterval:e,clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis),cleanup:t_}},eY=()=>{let t=0,e=()=>t++,i=new Map,n=(t,e)=>null==t?void 0:t.postMessage(e),r=t=>{var e;null==(e=i.get(t.data.id))||e()},s=eG(e$,{name:"clerk-timers"});if(null==s||s.addEventListener("message",r),!s)return eH();let a=()=>{s||null==(s=eG(e$,{name:"clerk-timers"}))||s.addEventListener("message",r)};return{setTimeout:(t,r)=>{a();let o=e();return i.set(o,()=>{t(),i.delete(o)}),n(s,{type:"setTimeout",id:o,ms:r}),o},setInterval:(t,r)=>{a();let o=e();return i.set(o,t),n(s,{type:"setInterval",id:o,ms:r}),o},clearTimeout:t=>{a(),i.delete(t),n(s,{type:"clearTimeout",id:t})},clearInterval:t=>{a(),i.delete(t),n(s,{type:"clearInterval",id:t})},cleanup:()=>{s&&(s.terminate(),s=null,i.clear())}}};function eX({delayInMs:t}={delayInMs:1e3}){let e;let i=eY(),n=!1,r=()=>{e&&(i.clearTimeout(e),i.cleanup()),n=!0},s=async a=>{n=!1,await a(r),!n&&(e=i.setTimeout(()=>{s(a)},t))};return{run:s,stop:r}}class eZ extends eF{create(){return this._basePost({body:{email_address:this.emailAddress}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.verification=new e7(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new io(t))),this}__internal_toSnapshot(){return{object:"email_address",id:this.id,email_address:this.emailAddress,verification:this.verification.__internal_toSnapshot(),linked_to:this.linkedTo.map(t=>t.__internal_toSnapshot())}}constructor(t,e){super(),p(this,"id",void 0),p(this,"emailAddress",""),p(this,"linkedTo",[]),p(this,"verification",void 0),p(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),p(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=eX();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||eO("SignUp"),await this.prepareVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"destroy",()=>this._baseDelete()),p(this,"toString",()=>this.emailAddress),this.pathRoot=e,this.fromJSON(t)}}class eQ extends eF{fromJSON(t){let{enabled:e=!1,max_allowed_memberships:i=0,actions:n,domains:r}=t||{};return this.enabled=e,this.maxAllowedMemberships=i,this.actions={adminDelete:(null==n?void 0:n.admin_delete)||!1},this.domains={enabled:(null==r?void 0:r.enabled)||!1,enrollmentModes:(null==r?void 0:r.enrollment_modes)||[],defaultRole:(null==r?void 0:r.default_role)||null},this}__internal_toSnapshot(){return{enabled:this.enabled,max_allowed_memberships:this.maxAllowedMemberships,actions:{admin_delete:this.actions.adminDelete},domains:{enabled:this.domains.enabled,enrollment_modes:this.domains.enrollmentModes,default_role:this.domains.defaultRole}}}constructor(t){super(),p(this,"enabled",void 0),p(this,"maxAllowedMemberships",void 0),p(this,"actions",void 0),p(this,"domains",void 0),this.fromJSON(t)}}class e0 extends eF{static getInstance(){return e0.instance||(e0.instance=new e0),e0.instance}fetch(){let{touch:t,fetchMaxTries:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touch:!1};return t?this._basePatch({}):this._baseGet({fetchMaxTries:e})}fromJSON(t){return t&&(this.authConfig=new eD(t.auth_config),this.displayConfig=new eq(t.display_config),this.userSettings=new eL(t.user_settings),this.organizationSettings=new eQ(t.organization_settings),this.maintenanceMode=t.maintenance_mode),this}__internal_toSnapshot(){return{object:"environment",id:this.id||"",auth_config:this.authConfig.__internal_toSnapshot(),display_config:this.displayConfig.__internal_toSnapshot(),user_settings:this.userSettings.__internal_toSnapshot(),organization_settings:this.organizationSettings.__internal_toSnapshot(),maintenance_mode:this.maintenanceMode}}constructor(t=null){super(),p(this,"pathRoot","/environment"),p(this,"authConfig",void 0),p(this,"displayConfig",void 0),p(this,"userSettings",void 0),p(this,"organizationSettings",void 0),p(this,"maintenanceMode",void 0),p(this,"isSingleSession",()=>this.authConfig.singleSessionMode),p(this,"isProduction",()=>"production"===this.displayConfig.instanceEnvironmentType),p(this,"isDevelopmentOrStaging",()=>!this.isProduction()),p(this,"onWindowLocationHost",()=>this.displayConfig.backendHost===window.location.host),this.fromJSON(t)}}p(e0,"instance",void 0);class e1{static encode(t){return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(t){let e=atob(t.replace(/-/g,"+").replace(/_/g,"/")),i=e.length,n=new Uint8Array(i);for(let t=0;t<i;t++)n[t]=e.charCodeAt(t);return n.buffer}}async function e3(t){try{let e=await navigator.credentials.create({publicKey:t});if(!e)return{error:new J.RK("Browser failed to create credential",{code:"passkey_registration_failed"}),publicKeyCredential:null};return{publicKeyCredential:e,error:null}}catch(t){var e;return{error:"InvalidStateError"===(e=t).name?new J.RK(e.message,{code:"passkey_already_exists"}):"NotAllowedError"===e.name?new J.RK(e.message,{code:"passkey_registration_cancelled"}):e6(e),publicKeyCredential:null}}}let e2=new class{__abort(){if(!this.controller)return;let t=Error();t.name="AbortError",this.controller.abort(t)}createAbortSignal(){this.__abort();let t=new AbortController;return this.controller=t,t.signal}abort(){this.__abort(),this.controller=void 0}constructor(){p(this,"controller",void 0)}};async function e9(t){let{publicKeyOptions:e,conditionalUI:i}=t;try{let t=await navigator.credentials.get({publicKey:e,mediation:i?"conditional":"optional",signal:e2.createAbortSignal()});if(!t)return{error:new J.RK("Browser failed to get credential",{code:"passkey_retrieval_failed"}),publicKeyCredential:null};return{publicKeyCredential:t,error:null}}catch(t){var n;return{error:"NotAllowedError"===(n=t).name?new J.RK(n.message,{code:"passkey_retrieval_cancelled"}):e6(n),publicKeyCredential:null}}}function e6(t){return"AbortError"===t.name?new J.RK(t.message,{code:"passkey_operation_aborted"}):"SecurityError"===t.name?new J.RK(t.message,{code:"passkey_invalid_rpID_or_domain"}):t}function e4(t){return{type:t.type,id:t.id,rawId:e5(t.rawId),authenticatorAttachment:t.authenticatorAttachment}}let e5=e1.encode.bind(e1),e8=e1.decode.bind(e1);class e7 extends eF{fromJSON(t){return t&&(this.status=t.status,this.verifiedAtClient=t.verified_at_client,this.strategy=t.strategy,this.nonce=t.nonce||null,this.message=t.message||null,t.external_verification_redirect_url?this.externalVerificationRedirectURL=new URL(t.external_verification_redirect_url):this.externalVerificationRedirectURL=null,this.attempts=t.attempts,this.expireAt=ej(t.expire_at||void 0),this.error=t.error?(0,J.nU)(t.error):null),this}__internal_toSnapshot(){var t,e;return{object:"verification",id:this.id||"",status:this.status,strategy:this.strategy,nonce:this.nonce,message:this.message,external_verification_redirect_url:(null===(t=this.externalVerificationRedirectURL)||void 0===t?void 0:t.toString())||null,attempts:this.attempts,expire_at:(null===(e=this.expireAt)||void 0===e?void 0:e.getTime())||null,error:(0,J.LT)(this.error),verified_at_client:this.verifiedAtClient}}constructor(t){super(),p(this,"pathRoot",""),p(this,"status",null),p(this,"strategy",null),p(this,"nonce",null),p(this,"message",null),p(this,"externalVerificationRedirectURL",null),p(this,"attempts",null),p(this,"expireAt",null),p(this,"error",null),p(this,"verifiedAtClient",null),p(this,"verifiedFromTheSameClient",()=>{var t,e;return this.verifiedAtClient===(null===(e=eF.clerk)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.id)}),this.fromJSON(t)}}class it extends e7{fromJSON(t){return super.fromJSON(t),(null==t?void 0:t.nonce)&&(this.publicKey=function(t){let e=e8(t.user.id),i=e8(t.challenge),n=(t.excludeCredentials||[]).map(t=>({...t,id:e8(t.id)}));return{...t,excludeCredentials:n,challenge:i,user:{...t.user,id:e}}}(JSON.parse(t.nonce))),this}constructor(t){super(t),p(this,"publicKey",null),this.fromJSON(t)}}class ie{__internal_toSnapshot(){return{email_address:this.emailAddress.__internal_toSnapshot(),phone_number:this.phoneNumber.__internal_toSnapshot(),web3_wallet:this.web3Wallet.__internal_toSnapshot(),external_account:this.externalAccount.__internal_toSnapshot()}}constructor(t){p(this,"emailAddress",void 0),p(this,"phoneNumber",void 0),p(this,"web3Wallet",void 0),p(this,"externalAccount",void 0),t?(this.emailAddress=new ii(t.email_address),this.phoneNumber=new ii(t.phone_number),this.web3Wallet=new ii(t.web3_wallet),this.externalAccount=new e7(t.external_account)):(this.emailAddress=new ii(null),this.phoneNumber=new ii(null),this.web3Wallet=new ii(null),this.externalAccount=new e7(null))}}class ii extends e7{__internal_toSnapshot(){return{...super.__internal_toSnapshot(),next_action:this.nextAction,supported_strategies:this.supportedStrategies}}constructor(t){super(t),p(this,"nextAction",void 0),p(this,"supportedStrategies",void 0),t?(this.nextAction=t.next_action,this.supportedStrategies=t.supported_strategies):(this.nextAction="",this.supportedStrategies=[])}}class ir extends eF{fromJSON(t){return t&&(this.id=t.id,this.identificationId=t.identification_id,this.providerUserId=t.provider_user_id,this.approvedScopes=t.approved_scopes,this.imageUrl=t.image_url,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.provider=(t.provider||"").replace("oauth_",""),this.username=t.username,this.publicMetadata=t.public_metadata,this.label=t.label,t.verification&&(this.verification=new e7(t.verification))),this}__internal_toSnapshot(){var t;return{object:"external_account",id:this.id,identification_id:this.identificationId,provider:this.provider,provider_user_id:this.providerUserId,email_address:this.emailAddress,approved_scopes:this.approvedScopes,first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl,username:this.username,public_metadata:this.publicMetadata,label:this.label,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null}}providerSlug(){return this.provider}providerTitle(){return[function(t){let e=t||"";return e.charAt(0).toUpperCase()+e.slice(1)}(this.providerSlug()),"Account"].join(" ")}accountIdentifier(){return this.username||this.emailAddress||this.label}constructor(t,e){super(),p(this,"id",void 0),p(this,"identificationId",void 0),p(this,"provider",void 0),p(this,"providerUserId",""),p(this,"emailAddress",""),p(this,"approvedScopes",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"imageUrl",""),p(this,"username",""),p(this,"publicMetadata",{}),p(this,"label",""),p(this,"verification",null),p(this,"reauthorize",t=>{let{additionalScopes:e,redirectUrl:i}=t||{};return this._basePatch({action:"reauthorize",body:{additional_scope:e,redirect_url:i}})}),p(this,"destroy",()=>this._baseDelete()),this.pathRoot=e,this.fromJSON(t)}}class is extends eF{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.protocol=t.protocol,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.publicMetadata=t.public_metadata,t.verification&&(this.verification=new e7(t.verification)),t.enterprise_connection&&(this.enterpriseConnection=new ia(t.enterprise_connection))),this}__internal_toSnapshot(){var t,e;return{object:"enterprise_account",id:this.id,provider:this.provider,protocol:this.protocol,provider_user_id:this.providerUserId,active:this.active,email_address:this.emailAddress,first_name:this.firstName,last_name:this.lastName,public_metadata:this.publicMetadata,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,enterprise_connection:(null===(e=this.enterpriseConnection)||void 0===e?void 0:e.__internal_toSnapshot())||null}}constructor(t,e){super(),p(this,"id",void 0),p(this,"protocol",void 0),p(this,"provider",void 0),p(this,"providerUserId",null),p(this,"active",void 0),p(this,"emailAddress",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"publicMetadata",{}),p(this,"verification",null),p(this,"enterpriseConnection",null),this.pathRoot=e,this.fromJSON(t)}}class ia extends eF{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.logoPublicUrl=t.logo_public_url,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}__internal_toSnapshot(){return{object:"enterprise_account_connection",id:this.id,name:this.name,domain:this.domain,active:this.active,protocol:this.protocol,provider:this.provider,logo_public_url:this.logoPublicUrl,sync_user_attributes:this.syncUserAttributes,allow_subdomains:this.allowSubdomains,allow_idp_initiated:this.allowIdpInitiated,disable_additional_identifications:this.disableAdditionalIdentifications,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"active",void 0),p(this,"allowIdpInitiated",void 0),p(this,"allowSubdomains",void 0),p(this,"disableAdditionalIdentifications",void 0),p(this,"domain",void 0),p(this,"logoPublicUrl",""),p(this,"name",void 0),p(this,"protocol",void 0),p(this,"provider",void 0),p(this,"syncUserAttributes",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class io extends eF{fromJSON(t){return t&&(this.id=t.id,this.type=t.type),this}__internal_toSnapshot(){return{object:"identification_link",id:this.id,type:this.type}}constructor(t){super(),p(this,"id",void 0),p(this,"type",void 0),this.fromJSON(t)}}class il extends eF{static async create(t){var e;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n;return"string"==typeof n.file?(r=n.file,i=new Headers({"Content-Type":"application/octet-stream"})):n.file&&(r=new FormData).append("file",n.file),new il(null===(e=await eF._fetch({path:t,method:"POST",body:r,headers:i}))||void 0===e?void 0:e.response)}static async delete(t){var e;return new il(null===(e=await eF._fetch({path:t,method:"DELETE"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.publicUrl=t.public_url),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",null),p(this,"publicUrl",null),this.fromJSON(t)}}class ic extends eF{fromJSON(t){return t&&(this.id=t.id,this.phoneNumber=t.phone_number,this.reservedForSecondFactor=t.reserved_for_second_factor,this.defaultSecondFactor=t.default_second_factor,this.verification=new e7(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new io(t)),this.backupCodes=t.backup_codes),this}__internal_toSnapshot(){return{object:"phone_number",id:this.id||"",phone_number:this.phoneNumber,reserved_for_second_factor:this.reservedForSecondFactor,default_second_factor:this.defaultSecondFactor,verification:this.verification.__internal_toSnapshot(),linked_to:this.linkedTo.map(t=>t.__internal_toSnapshot()),backup_codes:this.backupCodes}}constructor(t,e){super(),p(this,"id",void 0),p(this,"phoneNumber",""),p(this,"reservedForSecondFactor",!1),p(this,"defaultSecondFactor",!1),p(this,"linkedTo",[]),p(this,"verification",void 0),p(this,"backupCodes",void 0),p(this,"create",()=>this._basePost({body:{phone_number:this.phoneNumber}})),p(this,"prepareVerification",()=>this._basePost({action:"prepare_verification",body:{strategy:"phone_code"}})),p(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),p(this,"setReservedForSecondFactor",t=>{let{reserved:e}=t||{};return this._basePatch({body:{reserved_for_second_factor:e}})}),p(this,"makeDefaultSecondFactor",()=>this._basePatch({body:{default_second_factor:!0}})),p(this,"destroy",()=>this._baseDelete()),p(this,"toString",()=>{let t=this.phoneNumber.match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:this.phoneNumber}),this.pathRoot=e,this.fromJSON(t)}}function ih(t){let{pageSize:e,initialPage:i,...n}=t||{},r=null!=e?e:10;return new URLSearchParams({...Object.entries(n).reduce((t,[e,i])=>(void 0!==i&&(t[e]=i),t),{}),limit:r+"",offset:((null!=i?i:1)-1)*r+""})}class id extends eF{static async create(t,e){var i;let{name:n}=e;return new id(null===(i=await eF._fetch({path:"/organizations/".concat(t,"/domains"),method:"POST",body:{name:n}}))||void 0===i?void 0:i.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.organizationId=t.organization_id,this.enrollmentMode=t.enrollment_mode,this.affiliationEmailAddress=t.affiliation_email_address,this.totalPendingSuggestions=t.total_pending_suggestions,this.totalPendingInvitations=t.total_pending_invitations,t.verification?this.verification={status:t.verification.status,strategy:t.verification.strategy,attempts:t.verification.attempts,expiresAt:ej(t.verification.expires_at)}:this.verification=null),this}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"organizationId",void 0),p(this,"enrollmentMode",void 0),p(this,"verification",void 0),p(this,"affiliationEmailAddress",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"totalPendingInvitations",void 0),p(this,"totalPendingSuggestions",void 0),p(this,"prepareAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/prepare_affiliation_verification"),method:"POST",body:t})),p(this,"attemptAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/attempt_affiliation_verification"),method:"POST",body:t})),p(this,"updateEnrollmentMode",t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/update_enrollment_mode"),body:t})),p(this,"delete",()=>this._baseDelete({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id)})),this.fromJSON(t)}}class iu extends eF{fromJSON(t){return t&&(this.id=t.id,this.organizationId=t.organization_id,this.status=t.status,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at),t.public_user_data&&(this.publicUserData=new iM(t.public_user_data))),this}constructor(t){super(),p(this,"id",void 0),p(this,"organizationId",void 0),p(this,"status",void 0),p(this,"publicUserData",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/accept")})),p(this,"reject",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/reject")})),this.fromJSON(t)}}class ip extends eF{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.type=t.type,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"key",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"type",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class im extends eF{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.permissions=t.permissions.map(t=>new ip(t)),this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"key",void 0),p(this,"name",void 0),p(this,"description",void 0),p(this,"permissions",[]),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}class iv extends eF{static async create(t){var e;return new iv(null===(e=await eF._fetch({path:"/organizations",method:"POST",body:t}))||void 0===e?void 0:e.response)}static async get(t){var e;return new iv(null===(e=await eF._fetch({path:"/organizations/".concat(t),method:"GET"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.slug=t.slug,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.publicMetadata=t.public_metadata,this.membersCount=t.members_count,this.pendingInvitationsCount=t.pending_invitations_count,this.maxAllowedMemberships=t.max_allowed_memberships,this.adminDeleteEnabled=t.admin_delete_enabled,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}__internal_toSnapshot(){return{object:"organization",id:this.id,name:this.name,slug:this.slug,image_url:this.imageUrl,has_image:this.hasImage,public_metadata:this.publicMetadata,members_count:this.membersCount,pending_invitations_count:this.pendingInvitationsCount,max_allowed_memberships:this.maxAllowedMemberships,admin_delete_enabled:this.adminDeleteEnabled,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}async reload(t){var e;let{rotatingTokenNonce:i}=t||{},n=null===(e=await eF._fetch({path:"/organizations/".concat(this.id),method:"GET",rotatingTokenNonce:i},{forceUpdateClient:!0}))||void 0===e?void 0:e.response;return this.fromJSON(n)}constructor(t){super(),p(this,"pathRoot","/organizations"),p(this,"id",void 0),p(this,"name",void 0),p(this,"slug",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),p(this,"publicMetadata",{}),p(this,"adminDeleteEnabled",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"membersCount",0),p(this,"pendingInvitationsCount",0),p(this,"maxAllowedMemberships",void 0),p(this,"update",async t=>this._basePatch({body:t})),p(this,"getRoles",async t=>await eF._fetch({path:"/organizations/".concat(this.id,"/roles"),method:"GET",search:ih(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new im(t))}})),p(this,"getDomains",async t=>await eF._fetch({path:"/organizations/".concat(this.id,"/domains"),method:"GET",search:ih(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new id(t))}})),p(this,"getDomain",async t=>{var e;let{domainId:i}=t;return new id(null===(e=await eF._fetch({path:"/organizations/".concat(this.id,"/domains/").concat(i),method:"GET"}))||void 0===e?void 0:e.response)}),p(this,"getMembershipRequests",async t=>await eF._fetch({path:"/organizations/".concat(this.id,"/membership_requests"),method:"GET",search:ih(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iu(t))}})),p(this,"createDomain",async t=>id.create(this.id,{name:t})),p(this,"getMemberships",async t=>await eF._fetch({path:"/organizations/".concat(this.id,"/memberships"),method:"GET",search:ih({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new ig(t))}})),p(this,"getInvitations",async t=>await eF._fetch({path:"/organizations/".concat(this.id,"/invitations"),method:"GET",search:ih(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new i_(t))}})),p(this,"addMember",async t=>{let{userId:e,role:i}=t;return await eF._fetch({method:"POST",path:"/organizations/".concat(this.id,"/memberships"),body:{userId:e,role:i}}).then(t=>new ig(null==t?void 0:t.response))}),p(this,"inviteMember",async t=>i_.create(this.id,t)),p(this,"inviteMembers",async t=>i_.createBulk(this.id,t)),p(this,"updateMember",async t=>{let{userId:e,role:i}=t;return await eF._fetch({method:"PATCH",path:"/organizations/".concat(this.id,"/memberships/").concat(e),body:{role:i}}).then(t=>new ig(null==t?void 0:t.response))}),p(this,"removeMember",async t=>await eF._fetch({method:"DELETE",path:"/organizations/".concat(this.id,"/memberships/").concat(t)}).then(t=>new ig(null==t?void 0:t.response))),p(this,"destroy",async()=>this._baseDelete()),p(this,"setLogo",async t=>{let e,i,{file:n}=t;return null===n?await eF._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"DELETE"}).then(t=>new iv(null==t?void 0:t.response)):("string"==typeof n?(e=n,i=new Headers({"Content-Type":"application/octet-stream"})):(e=new FormData).append("file",n),await eF._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"PUT",body:e,headers:i}).then(t=>new iv(null==t?void 0:t.response)))}),this.fromJSON(t)}}class i_ extends eF{static async create(t,e){var i;let{emailAddress:n,role:r}=e;return new i_(null===(i=await eF._fetch({path:"/organizations/".concat(t,"/invitations"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response)}static async createBulk(t,e){var i;let{emailAddresses:n,role:r}=e;return(null===(i=await eF._fetch({path:"/organizations/".concat(t,"/invitations/bulk"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response).map(t=>new i_(t))}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.organizationId=t.organization_id,this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"emailAddress",void 0),p(this,"organizationId",void 0),p(this,"publicMetadata",{}),p(this,"status",void 0),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"revoke",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/invitations/").concat(this.id,"/revoke")})),this.fromJSON(t)}}class ig extends eF{fromJSON(t){return t&&(this.id=t.id,this.organization=new iv(t.organization),this.publicMetadata=t.public_metadata,t.public_user_data&&(this.publicUserData=new iM(t.public_user_data)),this.permissions=Array.isArray(t.permissions)?[...t.permissions]:[],this.role=t.role,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}__internal_toSnapshot(){return{object:"organization_membership",id:this.id,organization:this.organization.__internal_toSnapshot(),public_metadata:this.publicMetadata,public_user_data:this.publicUserData.__internal_toSnapshot(),permissions:this.permissions,role:this.role,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}reload(t){!function(t){throw Error("".concat(ek," Calling ").concat(t,".reload is not currently supported. Please contact support."))}("OrganizationMembership")}constructor(t){super(),p(this,"id",void 0),p(this,"publicMetadata",{}),p(this,"publicUserData",void 0),p(this,"organization",void 0),p(this,"permissions",[]),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"destroy",async()=>await this._baseDelete({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId)})),p(this,"update",async t=>{let{role:e}=t;return await this._basePatch({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId),body:{role:e}})}),this.fromJSON(t)}}p(ig,"retrieve",async t=>await eF._fetch({path:"/me/organization_memberships",method:"GET",search:ih({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new ig(t))}}));class iw extends eF{static async retrieve(t){return await eF._fetch({path:"/me/organization_suggestions",method:"GET",search:ih(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iw(t))}})}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"publicOrganizationData",void 0),p(this,"status",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/me/organization_suggestions/".concat(this.id,"/accept")})),this.fromJSON(t)}}class ib extends eF{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,t.verification&&(this.verification=new e7(t.verification)),t.saml_connection&&(this.samlConnection=new iy(t.saml_connection))),this}__internal_toSnapshot(){var t,e;return{object:"saml_account",id:this.id,provider:this.provider,provider_user_id:this.providerUserId,active:this.active,email_address:this.emailAddress,first_name:this.firstName,last_name:this.lastName,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,saml_connection:null===(e=this.samlConnection)||void 0===e?void 0:e.__internal_toSnapshot()}}constructor(t,e){super(),p(this,"id",void 0),p(this,"provider","saml_custom"),p(this,"providerUserId",null),p(this,"active",!1),p(this,"emailAddress",""),p(this,"firstName",""),p(this,"lastName",""),p(this,"verification",null),p(this,"samlConnection",null),this.pathRoot=e,this.fromJSON(t)}}class iy extends eF{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}__internal_toSnapshot(){return{object:"saml_account_connection",id:this.id,name:this.name,domain:this.domain,active:this.active,provider:this.provider,sync_user_attributes:this.syncUserAttributes,allow_subdomains:this.allowSubdomains,allow_idp_initiated:this.allowIdpInitiated,disable_additional_identifications:this.disableAdditionalIdentifications,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"name",void 0),p(this,"domain",void 0),p(this,"active",void 0),p(this,"provider",void 0),p(this,"syncUserAttributes",void 0),p(this,"allowSubdomains",void 0),p(this,"allowIdpInitiated",void 0),p(this,"disableAdditionalIdentifications",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),this.fromJSON(t)}}var iS=i("9996");let ik={TokenUpdate:"token:update"},iU=(()=>{let t=new Map;return{on:(e,i)=>{var n;t.get(e)||t.set(e,[]),null===(n=t.get(e))||void 0===n||n.push(i)},dispatch:(e,i)=>{(t.get(e)||[]).forEach(t=>"function"==typeof t&&t(i))},off:(e,i)=>{let n=t.get(e)||[];n.length&&(i&&t.set(e,n.filter(t=>t!==i)),t.set(e,[]))}}})();class iA extends eF{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.session=new iC(t.session),this.level=t.level,this.supportedFirstFactors=ta(t.supported_first_factors),this.supportedSecondFactors=ta(t.supported_second_factors),this.firstFactorVerification=new e7(t.first_factor_verification),this.secondFactorVerification=new e7(t.second_factor_verification)),this}constructor(t=null){super(),p(this,"status",void 0),p(this,"level",void 0),p(this,"session",void 0),p(this,"supportedFirstFactors",[]),p(this,"supportedSecondFactors",[]),p(this,"firstFactorVerification",new e7(null)),p(this,"secondFactorVerification",new e7(null)),this.fromJSON(t)}}var iI=new WeakMap,iO=new WeakSet;class iC extends eF{static isSessionResource(t){return!!t&&t instanceof iC}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.expireAt=ej(t.expire_at),this.abandonAt=ej(t.abandon_at),this.factorVerificationAge=t.factor_verification_age,this.lastActiveAt=ej(t.last_active_at||void 0),this.lastActiveOrganizationId=t.last_active_organization_id,this.actor=t.actor,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at),this.user=new iX(t.user),t.public_user_data&&(this.publicUserData=new iM(t.public_user_data)),this.lastActiveToken=t.last_active_token?new i$(t.last_active_token):null),this}__internal_toSnapshot(){var t,e;return{object:"session",id:this.id,status:this.status,expire_at:this.expireAt.getTime(),abandon_at:this.abandonAt.getTime(),factor_verification_age:this.factorVerificationAge,last_active_at:this.lastActiveAt.getTime(),last_active_organization_id:this.lastActiveOrganizationId,actor:this.actor,user:(null===(t=this.user)||void 0===t?void 0:t.__internal_toSnapshot())||null,public_user_data:this.publicUserData.__internal_toSnapshot(),last_active_token:(null===(e=this.lastActiveToken)||void 0===e?void 0:e.__internal_toSnapshot())||null,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}async _getToken(t){if(!this.user)return null;let{leewayInSeconds:e,template:i,skipCache:n=!1}=t||{},r=void 0===(null==t?void 0:t.organizationId)?this.lastActiveOrganizationId:null==t?void 0:t.organizationId;if(!i&&Number(e)>=60)throw Error("Leeway can not exceed the token lifespan (60 seconds)");let s=d(this,iO,iE).call(this,i,r),a=n?void 0:eK.get({tokenId:s},e),o=!i&&r===this.lastActiveOrganizationId;if(a){let t=await a.tokenResolver;return o&&iU.dispatch(ik.TokenUpdate,{token:t}),t.getRawString()||null}let l=i?"".concat(this.path(),"/tokens/").concat(i):"".concat(this.path(),"/tokens"),c=i?{}:{organizationId:r},h=i$.create(l,c);return eK.set({tokenId:s,tokenResolver:h}),h.then(t=>(o&&iU.dispatch(ik.TokenUpdate,{token:t}),t.getRawString()||null))}constructor(t){super(),u(this,iO),p(this,"pathRoot","/client/sessions"),p(this,"id",void 0),p(this,"status",void 0),p(this,"lastActiveAt",void 0),p(this,"lastActiveToken",void 0),p(this,"lastActiveOrganizationId",void 0),p(this,"actor",void 0),p(this,"user",void 0),p(this,"publicUserData",void 0),p(this,"factorVerificationAge",null),p(this,"expireAt",void 0),p(this,"abandonAt",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"end",()=>(eK.clear(),this._basePost({action:"end"}))),p(this,"remove",()=>(eK.clear(),this._basePost({action:"remove"}))),p(this,"touch",()=>this._basePost({action:"touch",body:{active_organization_id:this.lastActiveOrganizationId}})),p(this,"clearCache",()=>eK.clear()),p(this,"getToken",async t=>tm(()=>this._getToken(t),{shouldRetry:(t,e)=>!(0,J.ix)(t)&&e<4})),p(this,"checkAuthorization",t=>{var e,i;let n=((null===(e=this.user)||void 0===e?void 0:e.organizationMemberships)||[]).find(t=>t.organization.id===this.lastActiveOrganizationId);return(0,iS.Q)({userId:null===(i=this.user)||void 0===i?void 0:i.id,factorVerificationAge:this.factorVerificationAge,orgId:null==n?void 0:n.id,orgRole:null==n?void 0:n.role,orgPermissions:null==n?void 0:n.permissions})(t)}),l(this,iI,{writable:!0,value:t=>{t&&eK.set({tokenId:d(this,iO,iE).call(this),tokenResolver:Promise.resolve(t)})}}),p(this,"startVerification",async t=>{var e;let{level:i}=t;return new iA(null===(e=await eF._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify"),body:{level:i}}))||void 0===e?void 0:e.response)}),p(this,"prepareFirstFactorVerification",async t=>{var e;let i;switch(t.strategy){case"email_code":i={emailAddressId:t.emailAddressId};break;case"phone_code":i={phoneNumberId:t.phoneNumberId,default:t.default};break;default:eC("Session.prepareFirstFactorVerification",t.strategy)}return new iA(null===(e=await eF._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),p(this,"attemptFirstFactorVerification",async t=>{var e;return new iA(null===(e=await eF._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_first_factor"),body:{...t,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),p(this,"prepareSecondFactorVerification",async t=>{var e;return new iA(null===(e=await eF._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_second_factor"),body:t}))||void 0===e?void 0:e.response)}),p(this,"attemptSecondFactorVerification",async t=>{var e;return new iA(null===(e=await eF._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_second_factor"),body:t}))||void 0===e?void 0:e.response)}),this.fromJSON(t),a(this,iI).call(this,this.lastActiveToken)}}function iE(t,e){let i=void 0===e?this.lastActiveOrganizationId:e;return[this.id,t,i,this.updatedAt.getTime()].filter(Boolean).join("-")}function iP(){return W()&&"function"==typeof window.PublicKeyCredential}async function iT(){try{return iP()&&await window.PublicKeyCredential.isConditionalMediationAvailable()}catch(t){return!1}}async function ix(){try{return"undefined"!=typeof window&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch(t){return!1}}class iR extends eF{static async create(){return eF._fetch({path:"/me/passkeys",method:"POST"}).then(t=>new iR(null==t?void 0:t.response))}static async attemptVerification(t,e){let i=function(t){let e=t.response;return{...e4(t),response:{clientDataJSON:e5(e.clientDataJSON),attestationObject:e5(e.attestationObject),transports:e.getTransports()}}}(e);return eF._fetch({path:"/me/passkeys/".concat(t,"/attempt_verification"),method:"POST",body:{strategy:"passkey",publicKeyCredential:JSON.stringify(i)}}).then(t=>new iR(null==t?void 0:t.response))}static async registerPasskey(){var t;let e=iR.clerk.__internal_isWebAuthnSupported||iP,i=iR.clerk.__internal_createPublicCredentials||e3,n=iR.clerk.__internal_isWebAuthnPlatformAuthenticatorSupported||ix;if(!e())throw new J.RK("Passkeys are not supported on this device.",{code:"passkey_not_supported"});let r=await this.create(),{verification:s}=r,a=null==s?void 0:s.publicKey;if(a||ex("create"),(null===(t=a.authenticatorSelection)||void 0===t?void 0:t.authenticatorAttachment)==="platform"&&!await n())throw new J.RK("Registration requires a platform authenticator but the device does not support it.",{code:"passkey_pa_not_supported"});let{publicKeyCredential:o,error:l}=await i(a);if(!o)throw l;return this.attemptVerification(r.id,o)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.lastUsedAt=t.last_used_at?ej(t.last_used_at):null,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at),t.verification&&(this.verification=new it(t.verification))),this}__internal_toSnapshot(){var t,e;return{object:"passkey",id:this.id,name:this.name,verification:(null===(t=this.verification)||void 0===t?void 0:t.__internal_toSnapshot())||null,last_used_at:(null===(e=this.lastUsedAt)||void 0===e?void 0:e.getTime())||null,created_at:this.createdAt.getTime(),updated_at:this.updatedAt.getTime()}}constructor(t){super(),p(this,"id",void 0),p(this,"pathRoot","/me/passkeys"),p(this,"verification",null),p(this,"name",null),p(this,"lastUsedAt",null),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"update",t=>this._basePatch({body:t})),p(this,"delete",async()=>{var t;return new eB(null===(t=await eF._fetch({path:this.path(),method:"DELETE"}))||void 0===t?void 0:t.response)}),this.fromJSON(t)}}class iM{fromJSON(t){return t&&(this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.identifier=t.identifier,this.userId=t.user_id),this}__internal_toSnapshot(){return{object:"public_user_data",id:this.userId||"",first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl,has_image:this.hasImage,identifier:this.identifier,user_id:this.userId}}constructor(t){p(this,"firstName",void 0),p(this,"lastName",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),p(this,"identifier",void 0),p(this,"userId",void 0),this.fromJSON(t)}}let iW=t=>({id:t.id,deviceType:t.device_type,browserName:t.browser_name,browserVersion:t.browser_version,country:t.country,city:t.city,isMobile:t.is_mobile,ipAddress:t.ip_address});class iz extends eF{static retrieve(){var t;let e=null===(t=eF.clerk.session)||void 0===t?void 0:t.id;return this.clerk.getFapiClient().request({method:"GET",path:"/me/sessions/active",sessionId:e}).then(t=>t.payload.map(t=>new iz(t,"/me/sessions"))).catch(()=>[])}revoke(){return this._basePost({action:"revoke",body:{}})}fromJSON(t){var e;return t&&(this.id=t.id,this.status=t.status,this.expireAt=ej(t.expire_at),this.abandonAt=ej(t.abandon_at),this.lastActiveAt=ej(t.last_active_at||void 0),this.latestActivity=iW(null!==(e=t.latest_activity)&&void 0!==e?e:{}),this.actor=t.actor),this}constructor(t,e){super(),p(this,"pathRoot",""),p(this,"id",void 0),p(this,"status",void 0),p(this,"abandonAt",void 0),p(this,"expireAt",void 0),p(this,"lastActiveAt",void 0),p(this,"latestActivity",void 0),p(this,"actor",void 0),this.pathRoot=e,this.fromJSON(t)}}let iN=()=>Promise.all([i.e("539").then(i.bind(i,2918)),i.e("129").then(i.bind(i,3712))]).then(t=>{let[e,i]=t,{zxcvbnOptions:n,zxcvbn:r}=e,{dictionary:s,adjacencyGraphs:a}=i;return n.setOptions({dictionary:{...s},graphs:a}),r}),iF=t=>{let e;if(t.allowed_special_characters){let i=t.allowed_special_characters.replace("[","\\[");i=i.replace("]","\\]"),e=new RegExp("[".concat(i,"]"))}else e=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/;return(t,i)=>{let{minLength:n,maxLength:r}=i;return{max_length:t.length<r,min_length:t.length>=n,require_numbers:/\d/.test(t),require_lowercase:/[a-z]/.test(t),require_uppercase:/[A-Z]/.test(t),require_special_char:e.test(t)}}},iL=(t,e)=>{let{max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o}=e,l=iF(e)(t,{maxLength:e.max_length,minLength:e.min_length}),c={max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o},h=new Map;for(let t in c)c[t]&&(l[t]||h.set(t,!0));return Object.freeze(Object.fromEntries(h))},ij=t=>e=>iL(e,t),iD=t=>{let{min_zxcvbn_strength:e,onResult:i}=t;return t=>n=>{let r=t(n);return(null==i||i(r),r.score>=e&&r.score<3)?{state:"pass",keys:["unstable__errors.zxcvbn.couldBeStronger"],result:r}:r.score>=e?{state:"excellent",result:r}:{state:"fail",keys:["unstable__errors.zxcvbn.notEnough",...r.feedback.suggestions.map(t=>"unstable__errors.zxcvbn.suggestions.".concat(t))],result:r}}},iJ=(t,e)=>{let{onValidation:i=t_,onValidationComplexity:n=t_}=e||{},{show_zxcvbn:r,validatePassword:s}=t,a=ij(t),o=iD(t),l={};return(t,e)=>{let{onValidation:c=i,onValidationComplexity:h=n}=e||{};if(!s)return;let d=a(t);h(0===Object.keys(d).length),l={...l,complexity:d},r&&iN().then(e=>{let i=o(e)(t);c({...l={...l,strength:i},strength:i})}),(!l.complexity||0!==Object.keys(l.complexity).length||!r)&&c(l)}};class iK extends eF{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.supportedIdentifiers=t.supported_identifiers,this.identifier=t.identifier,this.supportedFirstFactors=ta(t.supported_first_factors),this.supportedSecondFactors=ta(t.supported_second_factors),this.firstFactorVerification=new e7(t.first_factor_verification),this.secondFactorVerification=new e7(t.second_factor_verification),this.createdSessionId=t.created_session_id,this.userData=new iV(t.user_data)),this}__internal_toSnapshot(){return{object:"sign_in",id:this.id||"",status:this.status||null,supported_identifiers:this.supportedIdentifiers,supported_first_factors:ts(this.supportedFirstFactors),supported_second_factors:ts(this.supportedSecondFactors),first_factor_verification:this.firstFactorVerification.__internal_toSnapshot(),second_factor_verification:this.secondFactorVerification.__internal_toSnapshot(),identifier:this.identifier,created_session_id:this.createdSessionId,user_data:this.userData.__internal_toSnapshot()}}constructor(t=null){super(),p(this,"pathRoot","/client/sign_ins"),p(this,"id",void 0),p(this,"status",null),p(this,"supportedIdentifiers",[]),p(this,"supportedFirstFactors",[]),p(this,"supportedSecondFactors",null),p(this,"firstFactorVerification",new e7(null)),p(this,"secondFactorVerification",new e7(null)),p(this,"identifier",null),p(this,"createdSessionId",null),p(this,"userData",new iV(null)),p(this,"create",t=>this._basePost({path:this.pathRoot,body:t})),p(this,"resetPassword",t=>this._basePost({body:t,action:"reset_password"})),p(this,"prepareFirstFactor",t=>{let e;switch(t.strategy){case"passkey":e={};break;case"email_link":e={emailAddressId:t.emailAddressId,redirectUrl:t.redirectUrl};break;case"email_code":case"reset_password_email_code":e={emailAddressId:t.emailAddressId};break;case"phone_code":e={phoneNumberId:t.phoneNumberId,default:t.default};break;case"web3_metamask_signature":case"web3_coinbase_wallet_signature":case"web3_okx_wallet_signature":e={web3WalletId:t.web3WalletId};break;case"reset_password_phone_code":e={phoneNumberId:t.phoneNumberId};break;case"saml":case"enterprise_sso":e={redirectUrl:t.redirectUrl,actionCompleteRedirectUrl:t.actionCompleteRedirectUrl};break;default:eC("SignIn.prepareFirstFactor",t.strategy)}return this._basePost({body:{...e,strategy:t.strategy},action:"prepare_first_factor"})}),p(this,"attemptFirstFactor",t=>{let e;return e="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(function(t){let e=t.response;return{...e4(t),response:{clientDataJSON:e5(e.clientDataJSON),authenticatorData:e5(e.authenticatorData),signature:e5(e.signature),userHandle:e.userHandle?e5(e.userHandle):null}}}(t.publicKeyCredential))}:{...t},this._basePost({body:{...e,strategy:t.strategy},action:"attempt_first_factor"})}),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=eX();return{startEmailLinkFlow:async i=>{let{emailAddressId:n,redirectUrl:r}=i;return this.id||eO("SignIn"),await this.prepareFirstFactor({strategy:"email_link",emailAddressId:n,redirectUrl:r}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.firstFactorVerification.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"prepareSecondFactor",t=>this._basePost({body:t,action:"prepare_second_factor"})),p(this,"attemptSecondFactor",t=>this._basePost({body:t,action:"attempt_second_factor"})),p(this,"authenticateWithRedirect",async t=>{let{strategy:e,redirectUrl:i,redirectUrlComplete:n,identifier:r}=t||{},{firstFactorVerification:s}=("saml"===e||"enterprise_sso"===e)&&this.id?await this.prepareFirstFactor({strategy:e,redirectUrl:iK.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}):await this.create({strategy:e,identifier:r,redirectUrl:iK.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}),{status:a,externalVerificationRedirectURL:o}=s;"unverified"===a&&o?tb(o):eT(a,iK.fapiClient.buildEmailAddress("support"))}),p(this,"authenticateWithWeb3",async t=>{var e;let i;let{identifier:n,generateSignature:r,strategy:s="web3_metamask_signature"}=t||{},a=s.replace("web3_","").replace("_signature","");"function"!=typeof r&&eP("generateSignature"),await this.create({identifier:n});let o=null===(e=this.supportedFirstFactors)||void 0===e?void 0:e.find(t=>t.strategy===s);o||eE("SignIn"),await this.prepareFirstFactor(o);let{message:l}=this.firstFactorVerification;l||eE("SignIn");try{i=await r({identifier:n,nonce:l,provider:a})}catch(t){if("coinbase_wallet"===a&&4001===t.code)i=await r({identifier:n,nonce:l,provider:a});else throw t}return this.attemptFirstFactor({signature:i,strategy:s})}),p(this,"authenticateWithMetamask",async()=>{let t=await en();return this.authenticateWithWeb3({identifier:t,generateSignature:ea,strategy:"web3_metamask_signature"})}),p(this,"authenticateWithCoinbaseWallet",async()=>{let t=await er();return this.authenticateWithWeb3({identifier:t,generateSignature:eo,strategy:"web3_coinbase_wallet_signature"})}),p(this,"authenticateWithOKXWallet",async()=>{let t=await es();return this.authenticateWithWeb3({identifier:t,generateSignature:el,strategy:"web3_okx_wallet_signature"})}),p(this,"authenticateWithPasskey",async t=>{let{flow:e}=t||{},i=iK.clerk.__internal_isWebAuthnSupported||iP,n=iK.clerk.__internal_getPublicCredentials||e9,r=iK.clerk.__internal_isWebAuthnAutofillSupported||iT;if(!i())throw new J.RK("Passkeys are not supported",{code:"passkey_not_supported"});if("autofill"===e||"discoverable"===e)await this.create({strategy:"passkey"});else{let t=this.supportedFirstFactors.find(t=>"passkey"===t.strategy);t||function(){throw Error("".concat(ek," You need to start a SignIn flow by calling SignIn.create({ strategy: 'passkey' }) first"))}(),await this.prepareFirstFactor(t)}let{nonce:s}=this.firstFactorVerification,a=s?function(t){let e=e8(t.challenge),i=(t.allowCredentials||[]).map(t=>({...t,id:e8(t.id)}));return{...t,allowCredentials:i,challenge:e}}(JSON.parse(s)):null;a||ex("get");let o=!1;"autofill"===e&&(o=await r());let{publicKeyCredential:l,error:c}=await n({publicKeyOptions:a,conditionalUI:o});if(!l)throw c;return this.attemptFirstFactor({publicKeyCredential:l,strategy:"passkey"})}),p(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=iK.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return iJ({...null===(n=iK.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class iV{fromJSON(t){if(t){var e,i;this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=null!==(e=t.image_url)&&void 0!==e?e:void 0,this.hasImage=null!==(i=t.has_image)&&void 0!==i?i:void 0}return this}__internal_toSnapshot(){return{first_name:this.firstName,last_name:this.lastName,image_url:this.imageUrl||null,has_image:this.hasImage||null}}constructor(t){p(this,"firstName",void 0),p(this,"lastName",void 0),p(this,"imageUrl",void 0),p(this,"hasImage",void 0),this.fromJSON(t)}}function iB(t){let{unsafeMetadata:e}={...t},i=e?"object"==typeof e?JSON.stringify(e):e:"";return{...t,...e?{unsafeMetadata:i}:{}}}class iq extends eF{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.requiredFields=t.required_fields,this.optionalFields=t.optional_fields,this.missingFields=t.missing_fields,this.unverifiedFields=t.unverified_fields,this.verifications=new ie(t.verifications),this.username=t.username,this.firstName=t.first_name,this.lastName=t.last_name,this.emailAddress=t.email_address,this.phoneNumber=t.phone_number,this.hasPassword=t.has_password,this.unsafeMetadata=t.unsafe_metadata,this.createdSessionId=t.created_session_id,this.createdUserId=t.created_user_id,this.abandonAt=t.abandon_at,this.web3wallet=t.web3_wallet,this.legalAcceptedAt=t.legal_accepted_at),this}__internal_toSnapshot(){var t;return{object:"sign_up",id:this.id||"",status:this.status||null,required_fields:this.requiredFields,optional_fields:this.optionalFields,missing_fields:this.missingFields,unverified_fields:this.unverifiedFields,verifications:this.verifications.__internal_toSnapshot(),username:this.username,first_name:this.firstName,last_name:this.lastName,email_address:this.emailAddress,phone_number:this.phoneNumber,has_password:this.hasPassword,unsafe_metadata:this.unsafeMetadata,created_session_id:this.createdSessionId,created_user_id:this.createdUserId,abandon_at:this.abandonAt,web3_wallet:this.web3wallet,legal_accepted_at:this.legalAcceptedAt,external_account:this.externalAccount,external_account_strategy:null===(t=this.externalAccount)||void 0===t?void 0:t.strategy}}shouldBypassCaptchaForAttempt(t){if(!t.strategy)return!1;let e=iq.clerk.__unstable__environment.displayConfig.captchaOauthBypass;return!!(e.some(e=>e===t.strategy)||t.transfer&&e.some(t=>t===iq.clerk.client.signIn.firstFactorVerification.strategy))}constructor(t=null){super(),p(this,"pathRoot","/client/sign_ups"),p(this,"id",void 0),p(this,"status",null),p(this,"requiredFields",[]),p(this,"optionalFields",[]),p(this,"missingFields",[]),p(this,"unverifiedFields",[]),p(this,"verifications",new ie(null)),p(this,"username",null),p(this,"firstName",null),p(this,"lastName",null),p(this,"emailAddress",null),p(this,"phoneNumber",null),p(this,"web3wallet",null),p(this,"externalAccount",void 0),p(this,"hasPassword",!1),p(this,"unsafeMetadata",{}),p(this,"createdSessionId",null),p(this,"createdUserId",null),p(this,"abandonAt",null),p(this,"legalAcceptedAt",null),p(this,"create",async t=>{{let{captchaSiteKey:e,canUseCaptcha:i,captchaURL:n,captchaWidgetType:r,captchaProvider:s,captchaPublicKeyInvisible:a}=eW(iq.clerk);if(!this.shouldBypassCaptchaForAttempt(t)&&i&&e&&n&&a)try{let i=await ew({siteKey:e,widgetType:r,invisibleSiteKey:a,scriptUrl:n,captchaProvider:s});t.captchaToken=i.captchaToken,t.captchaWidgetType=i.captchaWidgetType}catch(e){if(e.captchaError)t.captchaError=e.captchaError;else throw new J.w$(e.message,{code:"captcha_unavailable"})}}if(t.transfer&&this.shouldBypassCaptchaForAttempt(t)){var e;t.strategy=null===(e=iq.clerk.client)||void 0===e?void 0:e.signIn.firstFactorVerification.strategy}return this._basePost({path:this.pathRoot,body:iB(t)})}),p(this,"prepareVerification",t=>this._basePost({body:t,action:"prepare_verification"})),p(this,"attemptVerification",t=>this._basePost({body:t,action:"attempt_verification"})),p(this,"prepareEmailAddressVerification",t=>this.prepareVerification(t||{strategy:"email_code"})),p(this,"attemptEmailAddressVerification",t=>this.attemptVerification({...t,strategy:"email_code"})),p(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=eX();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||eO("SignUp"),await this.prepareEmailAddressVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.verifications.emailAddress.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),p(this,"preparePhoneNumberVerification",t=>this.prepareVerification(t||{strategy:"phone_code"})),p(this,"attemptPhoneNumberVerification",t=>this.attemptVerification({...t,strategy:"phone_code"})),p(this,"prepareWeb3WalletVerification",t=>this.prepareVerification({strategy:"web3_metamask_signature",...t})),p(this,"attemptWeb3WalletVerification",async t=>{let{signature:e,strategy:i="web3_metamask_signature"}=t;return this.attemptVerification({signature:e,strategy:i})}),p(this,"authenticateWithWeb3",async t=>{let e;let{generateSignature:i,identifier:n,unsafeMetadata:r,strategy:s="web3_metamask_signature",legalAccepted:a}=t||{},o=s.replace("web3_","").replace("_signature","");"function"!=typeof i&&eP("generateSignature");let l=n||this.web3wallet;await this.create({web3Wallet:l,unsafeMetadata:r,legalAccepted:a}),await this.prepareWeb3WalletVerification({strategy:s});let{message:c}=this.verifications.web3Wallet;c||eE("SignUp");try{e=await i({identifier:n,nonce:c,provider:o})}catch(t){if("coinbase_wallet"===o&&4001===t.code)e=await i({identifier:n,nonce:c,provider:o});else throw t}return this.attemptWeb3WalletVerification({signature:e,strategy:s})}),p(this,"authenticateWithMetamask",async t=>{let e=await en();return this.authenticateWithWeb3({identifier:e,generateSignature:ea,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_metamask_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithCoinbaseWallet",async t=>{let e=await er();return this.authenticateWithWeb3({identifier:e,generateSignature:eo,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_coinbase_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithOKXWallet",async t=>{let e=await es();return this.authenticateWithWeb3({identifier:e,generateSignature:el,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_okx_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),p(this,"authenticateWithRedirect",async t=>{let{redirectUrl:e,redirectUrlComplete:i,strategy:n,continueSignUp:r=!1,unsafeMetadata:s,emailAddress:a,legalAccepted:o}=t,l=()=>{let t={strategy:n,redirectUrl:iq.clerk.buildUrlWithAuth(e),actionCompleteRedirectUrl:i,unsafeMetadata:s,emailAddress:a,legalAccepted:o};return r&&this.id?this.update(t):this.create(t)},{verifications:c}=await l().catch(async t=>{if((0,J.kD)(t)&&(0,J.pG)(t))return await iq.clerk.__unstable__environment.reload(),l();throw t}),{externalAccount:h}=c,{status:d,externalVerificationRedirectURL:u}=h;"unverified"===d&&u?tb(u):eT(d,iq.fapiClient.buildEmailAddress("support"))}),p(this,"update",t=>this._basePatch({body:iB(t)})),p(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=iq.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return iJ({...null===(n=iq.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class i$ extends eF{static async create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new i$(await eF._fetch({path:t,method:"POST",body:e}),t)}fromJSON(t){return t&&(this.jwt=tX(t.jwt)),this}__internal_toSnapshot(){return{object:"token",id:this.id||"",jwt:this.getRawString()}}constructor(t,e){super(),p(this,"pathRoot","tokens"),p(this,"jwt",void 0),p(this,"getRawString",()=>{var t;return(null===(t=this.jwt)||void 0===t?void 0:t.claims.__raw)||""}),e&&(this.pathRoot=e),(null==t?void 0:t.jwt)&&(this.jwt=tX(t.jwt))}}class iG extends eF{fromJSON(t){return t&&(this.id=t.id,this.secret=t.secret,this.uri=t.uri,this.verified=t.verified,this.backupCodes=t.backup_codes,this.updatedAt=ej(t.updated_at),this.createdAt=ej(t.created_at)),this}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",""),p(this,"secret",void 0),p(this,"uri",void 0),p(this,"verified",!1),p(this,"backupCodes",void 0),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}let iH=t=>{let{firstName:e,lastName:i,name:n}=t;return n||[e,i].join(" ").trim()||""};class iY extends eF{fromJSON(t){return t&&(this.id=t.id,this.codes=t.codes,this.updatedAt=ej(t.updated_at),this.createdAt=ej(t.created_at)),this}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",void 0),p(this,"codes",[]),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}class iX extends eF{static isUserResource(t){return!!t&&t instanceof iX}path(){return this.pathRoot}get verifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get unverifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)!="verified"})}get verifiedWeb3Wallets(){return this.web3Wallets.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get hasVerifiedEmailAddress(){return this.emailAddresses.filter(t=>"verified"===t.verification.status).length>0}get hasVerifiedPhoneNumber(){return this.phoneNumbers.filter(t=>"verified"===t.verification.status).length>0}fromJSON(t){return t&&(this.id=t.id,this.externalId=t.external_id,this.firstName=t.first_name,this.lastName=t.last_name,(this.firstName||this.lastName)&&(this.fullName=iH({firstName:this.firstName,lastName:this.lastName})),this.imageUrl=t.image_url,this.hasImage=t.has_image,this.username=t.username,this.passwordEnabled=t.password_enabled,this.emailAddresses=(t.email_addresses||[]).map(t=>new eZ(t,this.path()+"/email_addresses")),this.primaryEmailAddressId=t.primary_email_address_id,this.primaryEmailAddress=this.emailAddresses.find(t=>{let{id:e}=t;return e===this.primaryEmailAddressId})||null,this.phoneNumbers=(t.phone_numbers||[]).map(t=>new ic(t,this.path()+"/phone_numbers")),this.primaryPhoneNumberId=t.primary_phone_number_id,this.primaryPhoneNumber=this.phoneNumbers.find(t=>{let{id:e}=t;return e===this.primaryPhoneNumberId})||null,this.web3Wallets=(t.web3_wallets||[]).map(t=>new iQ(t,this.path()+"/web3_wallets")),this.primaryWeb3WalletId=t.primary_web3_wallet_id,this.primaryWeb3Wallet=this.web3Wallets.find(t=>{let{id:e}=t;return e===this.primaryWeb3WalletId})||null,this.externalAccounts=(t.external_accounts||[]).map(t=>new ir(t,this.path()+"/external_accounts")),this.passkeys=(t.passkeys||[]).map(t=>new iR(t)),this.organizationMemberships=(t.organization_memberships||[]).map(t=>new ig(t)),this.samlAccounts=(t.saml_accounts||[]).map(t=>new ib(t,this.path()+"/saml_accounts")),this.enterpriseAccounts=(t.enterprise_accounts||[]).map(t=>new is(t,this.path()+"/enterprise_accounts")),this.publicMetadata=t.public_metadata,this.unsafeMetadata=t.unsafe_metadata,this.totpEnabled=t.totp_enabled,this.backupCodeEnabled=t.backup_code_enabled,this.twoFactorEnabled=t.two_factor_enabled,this.createOrganizationEnabled=t.create_organization_enabled,this.createOrganizationsLimit=t.create_organizations_limit,this.deleteSelfEnabled=t.delete_self_enabled,t.last_sign_in_at&&(this.lastSignInAt=ej(t.last_sign_in_at)),t.legal_accepted_at&&(this.legalAcceptedAt=ej(t.legal_accepted_at)),this.updatedAt=ej(t.updated_at||void 0),this.createdAt=ej(t.created_at||void 0)),this}__internal_toSnapshot(){var t,e,i,n;return{object:"user",id:this.id,external_id:this.externalId,first_name:this.firstName,last_name:this.lastName,username:this.username,public_metadata:this.publicMetadata,unsafe_metadata:this.unsafeMetadata,image_url:this.imageUrl,has_image:this.hasImage,email_addresses:this.emailAddresses.map(t=>t.__internal_toSnapshot()),phone_numbers:this.phoneNumbers.map(t=>t.__internal_toSnapshot()),web3_wallets:this.web3Wallets.map(t=>t.__internal_toSnapshot()),external_accounts:this.externalAccounts.map(t=>t.__internal_toSnapshot()),passkeys:this.passkeys.map(t=>t.__internal_toSnapshot()),organization_memberships:this.organizationMemberships.map(t=>t.__internal_toSnapshot()),saml_accounts:this.samlAccounts.map(t=>t.__internal_toSnapshot()),enterprise_accounts:this.enterpriseAccounts.map(t=>t.__internal_toSnapshot()),totp_enabled:this.totpEnabled,backup_code_enabled:this.backupCodeEnabled,two_factor_enabled:this.twoFactorEnabled,create_organization_enabled:this.createOrganizationEnabled,create_organizations_limit:this.createOrganizationsLimit,delete_self_enabled:this.deleteSelfEnabled,primary_email_address_id:this.primaryEmailAddressId,primary_phone_number_id:this.primaryPhoneNumberId,primary_web3_wallet_id:this.primaryWeb3WalletId,password_enabled:this.passwordEnabled,profile_image_id:this.imageUrl,last_sign_in_at:(null===(t=this.lastSignInAt)||void 0===t?void 0:t.getTime())||null,legal_accepted_at:(null===(e=this.legalAcceptedAt)||void 0===e?void 0:e.getTime())||null,updated_at:(null===(i=this.updatedAt)||void 0===i?void 0:i.getTime())||null,created_at:(null===(n=this.createdAt)||void 0===n?void 0:n.getTime())||null}}constructor(t){super(),p(this,"pathRoot","/me"),p(this,"id",""),p(this,"externalId",null),p(this,"username",null),p(this,"emailAddresses",[]),p(this,"phoneNumbers",[]),p(this,"web3Wallets",[]),p(this,"externalAccounts",[]),p(this,"enterpriseAccounts",[]),p(this,"passkeys",[]),p(this,"samlAccounts",[]),p(this,"organizationMemberships",[]),p(this,"passwordEnabled",!1),p(this,"firstName",null),p(this,"lastName",null),p(this,"fullName",null),p(this,"primaryEmailAddressId",null),p(this,"primaryEmailAddress",null),p(this,"primaryPhoneNumberId",null),p(this,"primaryPhoneNumber",null),p(this,"primaryWeb3WalletId",null),p(this,"primaryWeb3Wallet",null),p(this,"imageUrl",""),p(this,"hasImage",!1),p(this,"twoFactorEnabled",!1),p(this,"totpEnabled",!1),p(this,"backupCodeEnabled",!1),p(this,"publicMetadata",{}),p(this,"unsafeMetadata",{}),p(this,"createOrganizationEnabled",!1),p(this,"createOrganizationsLimit",null),p(this,"deleteSelfEnabled",!1),p(this,"lastSignInAt",null),p(this,"legalAcceptedAt",null),p(this,"updatedAt",null),p(this,"createdAt",null),p(this,"cachedSessionsWithActivities",null),p(this,"isPrimaryIdentification",t=>{switch(t.constructor){case eZ:return this.primaryEmailAddressId===t.id;case ic:return this.primaryPhoneNumberId===t.id;case iQ:return this.primaryWeb3WalletId===t.id;default:return!1}}),p(this,"createEmailAddress",t=>{let{email:e}=t||{};return new eZ({email_address:e},this.path()+"/email_addresses/").create()}),p(this,"createPasskey",()=>iR.registerPasskey()),p(this,"createPhoneNumber",t=>{let{phoneNumber:e}=t||{};return new ic({phone_number:e},this.path()+"/phone_numbers/").create()}),p(this,"createWeb3Wallet",t=>{let{web3Wallet:e}=t||{};return new iQ({web3_wallet:e},this.path()+"/web3_wallets/").create()}),p(this,"createExternalAccount",async t=>{var e;let{strategy:i,redirectUrl:n,additionalScopes:r}=t||{};return new ir(null===(e=await eF._fetch({path:"/me/external_accounts",method:"POST",body:{strategy:i,redirect_url:n,additional_scope:r}}))||void 0===e?void 0:e.response,this.path()+"/external_accounts")}),p(this,"createTOTP",async()=>{var t;return new iG(null===(t=await eF._fetch({path:"/me/totp",method:"POST"}))||void 0===t?void 0:t.response)}),p(this,"verifyTOTP",async t=>{var e;let{code:i}=t;return new iG(null===(e=await eF._fetch({path:"/me/totp/attempt_verification",method:"POST",body:{code:i}}))||void 0===e?void 0:e.response)}),p(this,"disableTOTP",async()=>{var t;return new eB(null===(t=await eF._fetch({path:"/me/totp",method:"DELETE"}))||void 0===t?void 0:t.response)}),p(this,"createBackupCode",async()=>{var t;return new iY(null===(t=await eF._fetch({path:this.path()+"/backup_codes/",method:"POST"}))||void 0===t?void 0:t.response)}),p(this,"update",t=>this._basePatch({body:iB(t)})),p(this,"updatePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/change_password")})),p(this,"removePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/remove_password")})),p(this,"delete",()=>this._baseDelete({path:"/me"})),p(this,"getSessions",async()=>{if(this.cachedSessionsWithActivities)return this.cachedSessionsWithActivities;let t=await iz.retrieve();return this.cachedSessionsWithActivities=t,t}),p(this,"setProfileImage",t=>{let{file:e}=t||{};return null===e?il.delete("".concat(this.path(),"/profile_image")):il.create("".concat(this.path(),"/profile_image"),{file:e})}),p(this,"getOrganizationInvitations",t=>iZ.retrieve(t)),p(this,"getOrganizationSuggestions",t=>iw.retrieve(t)),p(this,"getOrganizationMemberships",t=>ig.retrieve(t)),p(this,"leaveOrganization",async t=>{var e;return new eB(null===(e=await eF._fetch({path:"".concat(this.path(),"/organization_memberships/").concat(t),method:"DELETE"}))||void 0===e?void 0:e.response)}),this.fromJSON(t)}}class iZ extends eF{static async retrieve(t){return await eF._fetch({path:"/me/organization_invitations",method:"GET",search:ih(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iZ(t))}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=ej(t.created_at),this.updatedAt=ej(t.updated_at)),this}constructor(t){super(),p(this,"id",void 0),p(this,"emailAddress",void 0),p(this,"publicOrganizationData",void 0),p(this,"publicMetadata",{}),p(this,"status",void 0),p(this,"role",void 0),p(this,"createdAt",void 0),p(this,"updatedAt",void 0),p(this,"accept",async()=>await this._basePost({path:"/me/organization_invitations/".concat(this.id,"/accept")})),this.fromJSON(t)}}class iQ extends eF{create(){return this._basePost({body:{web3_wallet:this.web3Wallet}})}destroy(){return this._baseDelete()}toString(){return this.web3Wallet}fromJSON(t){return t&&(this.id=t.id,this.web3Wallet=t.web3_wallet,this.verification=new e7(t.verification)),this}__internal_toSnapshot(){return{object:"web3_wallet",id:this.id,web3_wallet:this.web3Wallet,verification:this.verification.__internal_toSnapshot()}}constructor(t,e){super(),p(this,"id",void 0),p(this,"web3Wallet",""),p(this,"verification",void 0),p(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),p(this,"attemptVerification",t=>{let{signature:e}=t;return this._basePost({action:"attempt_verification",body:{signature:e}})}),this.pathRoot=e,this.fromJSON(t)}}class i0 extends eF{fromJSON(t){return t&&(this.id=t.id,this.updatedAt=ej(t.updated_at),this.createdAt=ej(t.created_at)),this}static async join(t){var e;return new i0(null===(e=await eF._fetch({path:"/waitlist",method:"POST",body:t}))||void 0===e?void 0:e.response)}constructor(t){super(),p(this,"pathRoot","/waitlist"),p(this,"id",""),p(this,"updatedAt",null),p(this,"createdAt",null),this.fromJSON(t)}}function i1(t,e){var i,n,r,s;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||(i=e,n=t,i.organizationMemberships.length!==n.organizationMemberships.length||(null===(r=i.organizationMemberships[0])||void 0===r?void 0:r.updatedAt)!==(null===(s=n.organizationMemberships[0])||void 0===s?void 0:s.updatedAt))}function i3(t,e){return!function(t,e){if(!t&&e||t&&!e)return!0;if(!t&&t===e)return!1;if(!t||!e)return!0;try{if(eV.isClientResource(t))return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||t.sessions.length!==e.sessions.length;if(iC.isSessionResource(t)){var i,n;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||function(t,e){let i=t.factorVerificationAge,n=e.factorVerificationAge;return null!==i&&null!==n?i[0]!==n[0]||i[1]!==n[1]:i!==n}(t,e)||function(t,e){var i,n,r,s,a,o;if(t.lastActiveOrganizationId!==e.lastActiveOrganizationId)return!0;let l=null===(n=t.user)||void 0===n?void 0:null===(i=n.organizationMemberships)||void 0===i?void 0:i.find(e=>e.organization.id===t.lastActiveOrganizationId),c=null===(s=e.user)||void 0===s?void 0:null===(r=s.organizationMemberships)||void 0===r?void 0:r.find(e=>e.organization.id===t.lastActiveOrganizationId);return(null==l?void 0:l.role)!==(null==c?void 0:c.role)||(null==l?void 0:null===(a=l.permissions)||void 0===a?void 0:a.length)!==(null==c?void 0:null===(o=c.permissions)||void 0===o?void 0:o.length)}(t,e)||(i=t,n=e,!!i.user!=!!n.user||!!i.user&&!!n.user&&i1(i.user,n.user))}if(iX.isUserResource(t))return i1(t,e)}catch(t){}return!0}(t,e)?t:e}var i2=t=>Object.entries(t).reduce((t,[e,i])=>(null!=i&&(t[e]=i),t),{}),i9=(t,e)=>{let i={};for(let n in t)i[n]=e(t[n],n);return i},i6=(t,e)=>{let i={};for(let n in t)t[n]&&e(t[n])&&(i[n]=t[n]);return i},i4=new WeakSet,i5=new WeakSet,i8=new WeakSet,i7=new WeakSet,nt=new WeakSet,ne=new WeakSet,ni=new WeakSet,nn=new WeakMap;class nr{getAfterSignInUrl(){return d(this,i7,nl).call(this,"signIn")}getAfterSignUpUrl(){return d(this,i7,nl).call(this,"signUp")}getPreservedSearchParams(){return d(this,i4,ns).call(this,d(this,i5,na).call(this))}toSearchParams(){return d(this,i4,ns).call(this,d(this,i8,no).call(this))}constructor(t,e={},i={}){u(this,i4),u(this,i5),u(this,i8),u(this,i7),u(this,nt),u(this,ne),u(this,ni),p(this,"options",void 0),p(this,"fromOptions",void 0),p(this,"fromProps",void 0),p(this,"fromSearchParams",void 0),l(this,nn,{writable:!0,value:t=>{var e;return i6(t,tH(null===(e=this.options)||void 0===e?void 0:e.allowedRedirectOrigins,window.location.origin))}}),this.options=t,this.fromOptions=d(this,nt,nc).call(this,t||{}),this.fromProps=d(this,nt,nc).call(this,e||{}),this.fromSearchParams=d(this,ne,nh).call(this,i||{})}}function ns(t){return new URLSearchParams(i2(Object.fromEntries(Object.entries(t).map(t=>{let[e,i]=t;return[tn(e),i]}))))}function na(){return Object.fromEntries(Object.entries({...this.fromSearchParams}).filter(t=>{let[e]=t;return nr.preserved.includes(e)}))}function no(){let t=this.fromSearchParams.signUpForceRedirectUrl||this.fromProps.signUpForceRedirectUrl||this.fromOptions.signUpForceRedirectUrl,e=this.fromSearchParams.signUpFallbackRedirectUrl||this.fromProps.signUpFallbackRedirectUrl||this.fromOptions.signUpFallbackRedirectUrl,i=this.fromSearchParams.signInForceRedirectUrl||this.fromProps.signInForceRedirectUrl||this.fromOptions.signInForceRedirectUrl,n=this.fromSearchParams.signInFallbackRedirectUrl||this.fromProps.signInFallbackRedirectUrl||this.fromOptions.signInFallbackRedirectUrl,r=this.fromSearchParams.afterSignInUrl||this.fromProps.afterSignInUrl||this.fromOptions.afterSignInUrl,s={signUpForceRedirectUrl:t,signUpFallbackRedirectUrl:e,signInFallbackRedirectUrl:n,signInForceRedirectUrl:i,afterSignInUrl:r,afterSignUpUrl:this.fromSearchParams.afterSignUpUrl||this.fromProps.afterSignUpUrl||this.fromOptions.afterSignUpUrl,redirectUrl:this.fromSearchParams.redirectUrl||this.fromProps.redirectUrl||this.fromOptions.redirectUrl};return t&&delete s.signUpFallbackRedirectUrl,i&&delete s.signInFallbackRedirectUrl,s}function nl(t){var e,i;let n,r;let s="".concat(t,"ForceRedirectUrl"),a="".concat(t,"FallbackRedirectUrl"),o="after".concat(t[0].toUpperCase()).concat(t.slice(1),"Url");(r=this.fromSearchParams[s]||this.fromProps[s]||this.fromOptions[s])&&(n=s),r||(r=this.fromSearchParams.redirectUrl),r&&(n="redirectUrl"),r||(r=this.fromSearchParams[a]||this.fromProps[a]||this.fromOptions[a]),r&&(n=a);let l=this.fromSearchParams[o]||this.fromProps[o]||this.fromProps.redirectUrl||this.fromOptions[o];return e=n,(i=r)&&l&&tt.warnOnce('Clerk: The "'.concat(e,'" prop ("').concat(i,'") has priority over the legacy "').concat(o,'" (or "redirectUrl") ("').concat(l,'"), which will be completely ignored in this case. "').concat(o,'" (or "redirectUrl" prop) should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props')),r||(r=l),r||"/"}function nc(t){eh(t);let e={};return nr.keys.forEach(i=>{e[i]=t[i]}),i9(a(this,nn).call(this,d(this,ni,nd).call(this,i6(e,Boolean))),t=>t.toString())}function nh(t){eh(t);let e={};return nr.keys.forEach(i=>{e[i]=t[tn(i)]}),e.redirectUrl=t.redirect_url,i9(a(this,nn).call(this,d(this,ni,nd).call(this,i6(e,Boolean))),t=>t.toString())}function nd(t){return i9(t,t=>tB(t,window.location.origin))}p(nr,"keys",["signInForceRedirectUrl","signInFallbackRedirectUrl","signUpForceRedirectUrl","signUpFallbackRedirectUrl","afterSignInUrl","afterSignUpUrl","redirectUrl"]),p(nr,"preserved",["redirectUrl"]);var nu="__clerk_db_jwt";function np(t,e){let i=new URL(t),n=i.searchParams.get(nu);i.searchParams.delete(nu);let r=n||e;return r&&i.searchParams.set(nu,r),i}var nf=t=>t.searchParams.get(nu)||"",nm=t=>nv(n_(t)),nv=t=>{let e=new URL(t);return e.searchParams.delete(nu),e},n_=t=>{let e=new URL(t);return e.searchParams.delete("__dev_session"),e.hash=decodeURI(e.hash).replace(/__clerk_db_jwt\[(.*)\]/,""),e.href.endsWith("#")&&(e.hash=""),e};function ng(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}var nw=function t(e,i){function n(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=ng({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in r){if(r[a])s+="; "+a,!0!==r[a]&&(s+="="+r[a].split(";")[0])}return document.cookie=t+"="+e.write(n,t)+s}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var s=i[r].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=e.read(a,o),t===o)break}catch(t){}}return t?n[t]:n}},remove:function(t,e){n(t,"",ng({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,ng({},this.attributes,e))},withConverter:function(e){return t(ng({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function nb(t){return{get:()=>nw.get(t),set(e,i={}){nw.set(t,e,i)},remove(e){nw.remove(t,e)}}}function ny(t,e){let i=function(t){try{return new Date(t||new Date)}catch(t){return new Date}}(t);return i.setFullYear(i.getFullYear()+e),i}let nS=nb("__clerk_test_etld"),nk=t=>"https:"===window.location.protocol||"None"===t&&void 0===window.safari&&(void 0!==window.isSecureContext?window.isSecureContext:"localhost"===window.location.hostname),nU="__client_uat",nA=t=>{let e=nb(nU),i=nb(X(nU,t));return{set:t=>{let r=ny(Date.now(),1),s=t1()?"None":"Strict",a=nk(s),o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nS;if(n)return n;if(["localhost","127.0.0.1","0.0.0.0"].includes(t))return t;let i=t.split(".");if(1===i.length)return t;for(let t=i.length-2;t>=0;t--){let r=i.slice(t).join(".");if(e.set("1",{domain:r}),"1"===e.get())return e.remove({domain:r}),n=r,r;e.remove({domain:r})}}(),l="0";t&&t.updatedAt&&t.activeSessions.length>0&&(l=Math.floor(t.updatedAt.getTime()/1e3).toString()),i.remove(),e.remove(),i.set(l,{expires:r,sameSite:s,domain:o,secure:a}),e.set(l,{expires:r,sameSite:s,domain:o,secure:a})},get:()=>parseInt(i.get()||e.get()||"0",10)}},nI="__session",nO=t=>{let e=nb(nI),i=nb(X(nI,t));return{set:t=>{let n=ny(Date.now(),1),r=t1()?"None":"Lax",s=nk(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};async function nC(t){let e;try{e=await Y(t)}catch(a){tt.logOnce("Suffixed cookie failed due to ".concat(a.message," (secure-context: ").concat(window.isSecureContext,", url: ").concat(window.location.href,")"));let{default:n}=await i.e("199").then(i.t.bind(i,5900,23)),{default:r}=await i.e("199").then(i.t.bind(i,1667,23)),s=n(t);e=r.stringify(s).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}return e}let nE=t=>{let e=nb(nu),i=nb(X(nu,t));return{get:()=>i.get()||e.get(),set:t=>{let n=ny(Date.now(),1),r=t1()?"None":"Lax",s=nk(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};var nP=i("3145"),nT=i.n(nP);class nx{startPollingForSessionToken(t){!this.timerId&&(this.timerId=this.workerTimers.setInterval(()=>{this.lock.acquireLockAndRun(t)},5e3))}stopPollingForSessionToken(){this.timerId&&(this.workerTimers.clearInterval(this.timerId),this.timerId=null)}constructor(){p(this,"lock",function(t){let e=new(nT());return window.addEventListener("beforeunload",async()=>{await e.releaseLock(t)}),{acquireLockAndRun:async i=>{if(await e.acquireLock(t,5e3))try{return await i()}finally{await e.releaseLock(t)}}}}("clerk.lock.refreshSessionToken")),p(this,"workerTimers",eY()),p(this,"timerId",null)}}class nR{static async create(t,e,i){let n=await nC(t.publishableKey),r=new nR(t,e,n,i);return await r.setup(),r}async setup(){return"production"===this.instanceType?this.setupProduction():this.setupDevelopment()}isSignedOut(){return this.clerk.loaded?!!this.clerk.user:0>=this.clientUat.get()}async handleUnauthenticatedDevBrowser(){this.devBrowser.clear(),await this.devBrowser.setup()}decorateUrlWithDevBrowserToken(t){let e=this.devBrowser.getDevBrowserJWT();return e?np(t,e):function(){throw Error("".concat(ek," Missing dev browser jwt. Please contact support."))}()}async setupDevelopment(){await this.devBrowser.setup()}setupProduction(){this.devBrowser.clear()}startPollingForToken(){this.poller||(this.poller=new nx),this.poller.startPollingForSessionToken(()=>this.refreshSessionToken())}refreshTokenOnFocus(){window.addEventListener("focus",()=>{"visible"===document.visibilityState&&this.refreshSessionToken({updateCookieImmediately:!0})})}async refreshSessionToken(){let{updateCookieImmediately:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clerk.session)try{let e=await this.clerk.session.getToken();t&&this.updateSessionCookie(e)}catch(t){return this.handleGetTokenError(t)}}updateSessionCookie(t){if(document.hasFocus()||this.isCurrentOrganizationActive())return this.setActiveOrganizationInStorage(),t?this.sessionCookie.set(t):this.sessionCookie.remove()}setClientUatCookieForDevelopmentInstances(){"production"!==this.instanceType&&this.inCustomDevelopmentDomain()&&this.clientUat.set(this.clerk.client)}inCustomDevelopmentDomain(){let t=this.clerk.frontendApi.replace("clerk.","");return!window.location.host.endsWith(t)}handleGetTokenError(t){if((0,J.kD)(t)||eA(t.message||t),(0,J.ix)(t)){this.clerk.handleUnauthenticated();return}!(0,J.eE)(t)&&eA(t.toString())}setActiveOrganizationInStorage(){var t;(null===(t=this.clerk.organization)||void 0===t?void 0:t.id)?localStorage.setItem("clerk_active_org",this.clerk.organization.id):localStorage.removeItem("clerk_active_org")}isCurrentOrganizationActive(){var t,e;let i=localStorage.getItem("clerk_active_org");return!i&&(null===(t=this.clerk.organization)||void 0===t||!t.id)||(null===(e=this.clerk.organization)||void 0===e?void 0:e.id)===i}constructor(t,e,i,n){p(this,"clerk",void 0),p(this,"instanceType",void 0),p(this,"poller",void 0),p(this,"clientUat",void 0),p(this,"sessionCookie",void 0),p(this,"devBrowser",void 0),this.clerk=t,this.instanceType=n,this.poller=null,iU.on(ik.TokenUpdate,t=>{let{token:e}=t;this.updateSessionCookie(e&&e.getRawString()),this.setClientUatCookieForDevelopmentInstances()}),this.refreshTokenOnFocus(),this.startPollingForToken(),this.clientUat=nA(i),this.sessionCookie=nO(i),this.devBrowser=function(t){let{cookieSuffix:e,frontendApi:i,fapiClient:n}=t,r=nE(e);function s(){return r.get()}function a(t){r.set(t)}function o(){r.remove()}return{clear:function(){o()},setup:async function(){if(!tL(i))return;n.onBeforeRequest(t=>{let e=s();e&&(null==t?void 0:t.url)&&(t.url=np(t.url,e))}),n.onAfterResponse((t,e)=>{var i;let n=null==e?void 0:null===(i=e.headers)||void 0===i?void 0:i.get("Clerk-Db-Jwt");n&&a(n)});let t=function(t){let e=nf(t);return nm(t).href!==t.href&&void 0!==globalThis.history&&globalThis.history.replaceState(null,"",nm(t)),e}(new URL(window.location.href));if(t){a(t);return}if(r.get())return;let e=n.buildUrl({path:"/dev_browser"}),o=await fetch(e.toString(),{method:"POST"});if(!o.ok){let t=await o.json(),e=(0,J.iR)(t.errors);e[0]?eU(e[0].longMessage):eU()}let l=await o.json();a(null==l?void 0:l.id)},getDevBrowserJWT:s,setDevBrowserJWT:a,removeDevBrowserJWT:o}}({frontendApi:t.frontendApi,fapiClient:e,cookieSuffix:i})}}class nM{async start(){this.isEnabled()&&(await this.challengeAndSend(),this.timers.setInterval(()=>{this.challengeAndSend()},this.intervalInMs()))}async challengeAndSend(){if(this.clerk.client)try{let t=await this.captchaChallenge.invisible();await this.clerk.client.sendCaptchaToken(t)}catch(t){}}isEnabled(){var t;return!!(null===(t=this.clerk.__unstable__environment)||void 0===t?void 0:t.displayConfig.captchaHeartbeat)}intervalInMs(){var t,e;return null!==(e=null===(t=this.clerk.__unstable__environment)||void 0===t?void 0:t.displayConfig.captchaHeartbeatIntervalMs)&&void 0!==e?e:6e5}constructor(t,e=new ez(t),i=eY()){p(this,"clerk",void 0),p(this,"captchaChallenge",void 0),p(this,"timers",void 0),this.clerk=t,this.captchaChallenge=e,this.timers=i}}let nW=t=>"\uD83D\uDD12 Clerk:\n".concat(t.trim(),"\n(This notice only appears in development)"),nz={cannotRenderComponentWhenSessionExists:"The <SignUp/> and <SignIn/> components cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the Home URL instead.",cannotRenderSignUpComponentWhenSessionExists:"The <SignUp/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the value set in `afterSignUp` URL instead.",cannotRenderSignInComponentWhenSessionExists:"The <SignIn/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the `afterSignIn` URL instead.",cannotRenderComponentWhenUserDoesNotExist:"<UserProfile/> cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotRenderComponentWhenOrgDoesNotExist:"<OrganizationProfile/> cannot render unless an organization is active. Since no organization is currently active, this is no-op.",cannotRenderAnyOrganizationComponent:t=>nW("The <".concat(t,"/> cannot be rendered when the feature is turned off. Visit 'dashboard.clerk.com' to enable the feature. Since the feature is turned off, this is no-op.")),cannotOpenUserProfile:"The UserProfile modal cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotOpenSignInOrSignUp:"The SignIn or SignUp modals do not render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, this is no-op."};for(let t of Object.keys(nz)){let e=nz[t];"function"!=typeof e&&(nz[t]=nW(e))}let nN={polling:!0,standardBrowser:!0,touchSession:!0,isSatellite:!1,signInUrl:void 0,signUpUrl:void 0,afterSignOutUrl:void 0,signInFallbackRedirectUrl:void 0,signUpFallbackRedirectUrl:void 0,signInForceRedirectUrl:void 0,signUpForceRedirectUrl:void 0};var nF=new WeakMap,nL=new WeakMap,nj=new WeakMap,nD=new WeakMap,nJ=new WeakMap,nK=new WeakMap,nV=new WeakMap,nB=new WeakMap,nq=new WeakMap,n$=new WeakMap,nG=new WeakMap,nH=new WeakMap,nY=new WeakMap,nX=new WeakMap,nZ=new WeakSet,nQ=new WeakMap,n0=new WeakMap,n1=new WeakMap,n3=new WeakMap,n2=new WeakMap,n9=new WeakMap,n6=new WeakMap,n4=new WeakMap,n5=new WeakMap,n8=new WeakMap,n7=new WeakMap,rt=new WeakMap,re=new WeakMap,ri=new WeakMap,rn=new WeakMap,rr=new WeakMap,rs=new WeakMap,ra=new WeakMap,ro=new WeakMap,rl=new WeakMap,rc=new WeakMap,rh=new WeakMap,rd=new WeakMap,ru=new WeakMap,rp=new WeakMap,rf=new WeakMap,rm=new WeakMap,rv=new WeakMap;class r_{get publishableKey(){return a(this,nF)}get version(){return r_.version}set sdkMetadata(t){r_.sdkMetadata=t}get sdkMetadata(){return r_.sdkMetadata}get loaded(){return a(this,n$)}get isSatellite(){return!!t0()&&tv(a(this,nH).isSatellite,new URL(window.location.href),!1)}get domain(){if(t0()){let t=function(t=""){return(t||"").replace(/^.+:\/\//,"")}(tv(a(this,nL),new URL(window.location.href)));return"production"===a(this,nq)?function(t){let e;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}let i=t.replace(e,"");return`clerk.${i}`}(t):t}return""}get proxyUrl(){if(t0()){let t=tv(a(this,nj),new URL(window.location.href));return!(!t||te(t)||ti(t))&&tC.throwInvalidProxyUrl({url:t}),t?ti(t)?new URL(t,window.location.origin).toString():t:""}return""}get frontendApi(){let t=H(this.publishableKey);return t?t.frontendApi:tC.throwInvalidPublishableKeyError({key:this.publishableKey})}get instanceType(){return a(this,nq)}get isStandardBrowser(){return a(this,nH).standardBrowser||!1}__internal_getOption(t){return a(this,nH)[t]}buildUrlWithAuth(t){if("production"===a(this,nq))return t;let e=new URL(t,window.location.origin);return e.origin!==window.location.origin&&a(this,nD)?a(this,nD).decorateUrlWithDevBrowserToken(e).href:e.href}buildSignInUrl(t){return a(this,ru).call(this,"signInUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildSignUpUrl(t){return a(this,ru).call(this,"signUpUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildUserProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.userProfileUrl):""}buildHomeUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.homeUrl):""}buildAfterSignInUrl(){return this.buildUrlWithAuth(new nr(a(this,nH)).getAfterSignInUrl())}buildAfterSignUpUrl(){return this.buildUrlWithAuth(new nr(a(this,nH)).getAfterSignUpUrl())}buildAfterSignOutUrl(){return a(this,nH).afterSignOutUrl?this.buildUrlWithAuth(a(this,nH).afterSignOutUrl):"/"}buildWaitlistUrl(t){return this.environment&&this.environment.displayConfig?tJ({base:a(this,nH).waitlistUrl||this.environment.displayConfig.waitlistUrl,hashSearchParams:[new URLSearchParams((null==t?void 0:t.initialValues)||{})]},{stringify:!0}):""}buildAfterMultiSessionSingleSignOutUrl(){if(!a(this,nH).afterMultiSessionSingleSignOutUrl){var t;return this.buildUrlWithAuth(tJ({base:a(this,nH).signInUrl?"".concat(a(this,nH).signInUrl,"/choose"):null===(t=this.environment)||void 0===t?void 0:t.displayConfig.afterSignOutOneUrl},{stringify:!0}))}return this.buildUrlWithAuth(a(this,nH).afterMultiSessionSingleSignOutUrl)}buildCreateOrganizationUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.createOrganizationUrl):""}buildOrganizationProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.organizationProfileUrl):""}updateEnvironment(t){this.environment=t}get __internal_last_error(){let t=this.internal_last_error;return this.internal_last_error=null,t}set __internal_last_error(t){this.internal_last_error=t}get __unstable__environment(){return this.environment}__internal_navigateWithError(t,e){return this.__internal_last_error=e,this.navigate(t)}assertComponentsReady(t){if(!r_.mountComponentRenderer)throw Error("ClerkJS was loaded without UI components.");if(!t)throw Error("ClerkJS components are not ready yet.")}constructor(t,e){var i=this;if(u(this,nZ),l(this,rv,{get:rw,set:void 0}),p(this,"__experimental_ui",void 0),p(this,"client",void 0),p(this,"session",void 0),p(this,"organization",void 0),p(this,"user",void 0),p(this,"__internal_country",void 0),p(this,"telemetry",void 0),p(this,"internal_last_error",null),p(this,"environment",void 0),l(this,nF,{writable:!0,value:""}),l(this,nL,{writable:!0,value:void 0}),l(this,nj,{writable:!0,value:void 0}),l(this,nD,{writable:!0,value:void 0}),l(this,nJ,{writable:!0,value:void 0}),l(this,nK,{writable:!0,value:null}),l(this,nV,{writable:!0,value:void 0}),l(this,nB,{writable:!0,value:void 0}),l(this,nq,{writable:!0,value:void 0}),l(this,n$,{writable:!0,value:!1}),l(this,nG,{writable:!0,value:[]}),l(this,nH,{writable:!0,value:{}}),l(this,nY,{writable:!0,value:null}),l(this,nX,{writable:!0,value:0}),p(this,"__internal_getCachedResources",void 0),p(this,"__internal_createPublicCredentials",void 0),p(this,"__internal_getPublicCredentials",void 0),p(this,"__internal_isWebAuthnSupported",void 0),p(this,"__internal_isWebAuthnAutofillSupported",void 0),p(this,"__internal_isWebAuthnPlatformAuthenticatorSupported",void 0),p(this,"getFapiClient",()=>a(this,nB)),p(this,"load",async t=>{!this.loaded&&("development"===a(this,nq)&&tt.warnOnce("Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview"),h(this,nH,a(this,rf).call(this,t)),eh(a(this,nH)),a(this,nH).sdkMetadata&&(r_.sdkMetadata=a(this,nH).sdkMetadata),!1!==a(this,nH).telemetry&&(this.telemetry=new th({clerkVersion:r_.version,samplingRate:1,publishableKey:this.publishableKey,...a(this,nH).telemetry})),a(this,nH).standardBrowser?h(this,n$,await a(this,n5).call(this)):h(this,n$,await a(this,n8).call(this)))}),p(this,"signOut",async(t,e)=>{var i,n,r;if(!this.client||0===this.client.sessions.length)return;let s=t&&"object"==typeof t?t:e||{},o=(null==s?void 0:s.redirectUrl)||this.buildAfterSignOutUrl(),l=()=>{let e="function"==typeof t?t:void 0;return e?this.setActive({session:null,beforeEmit:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e.requireType&&typeof t!==e.requireType||tT(t)))return t}(e)}):this.setActive({session:null,redirectUrl:o})};if(!s.sessionId||1===this.client.activeSessions.length)return null===(r=null===(n=a(this,nH).experimental)||void 0===n?void 0:n.persistClient)||void 0===r||r?await this.client.removeSessions():await this.client.destroy(),l();let c=this.client.activeSessions.find(t=>t.id===s.sessionId),h=(null==c?void 0:c.id)&&(null===(i=this.session)||void 0===i?void 0:i.id)===c.id;if(await (null==c?void 0:c.remove()),h)return l()}),p(this,"openGoogleOneTap",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"GoogleOneTap"}).then(e=>e.openModal("googleOneTap",t||{}))}),p(this,"closeGoogleOneTap",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("googleOneTap"))}),p(this,"openSignIn",t=>{if(this.assertComponentsReady(a(this,nV)),tk(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,nV).ensureMounted({preloadHint:"SignIn"}).then(e=>e.openModal("signIn",t||{}))}),p(this,"closeSignIn",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("signIn"))}),p(this,"__internal_openReverification",t=>{if(this.assertComponentsReady(a(this,nV)),tU(this)){if("development"===a(this,nq))throw new J.w$(nz.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserVerification"}).then(e=>e.openModal("userVerification",t||{}))}),p(this,"__internal_closeReverification",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("userVerification"))}),p(this,"__internal_openBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.openModal("blankCaptcha",{})))),p(this,"__internal_closeBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.closeModal("blankCaptcha")))),p(this,"openSignUp",t=>{if(this.assertComponentsReady(a(this,nV)),tk(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,nV).ensureMounted({preloadHint:"SignUp"}).then(e=>e.openModal("signUp",t||{}))}),p(this,"closeSignUp",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("signUp"))}),p(this,"openUserProfile",t=>{if(this.assertComponentsReady(a(this,nV)),tU(this)){if("development"===a(this,nq))throw new J.w$(nz.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserProfile"}).then(e=>e.openModal("userProfile",t||{}))}),p(this,"closeUserProfile",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("userProfile"))}),p(this,"openOrganizationProfile",t=>{if(this.assertComponentsReady(a(this,nV)),tI(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}if(tA(this)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,nV).ensureMounted({preloadHint:"OrganizationProfile"}).then(e=>e.openModal("organizationProfile",t||{}))}),p(this,"closeOrganizationProfile",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("organizationProfile"))}),p(this,"openCreateOrganization",t=>{if(this.assertComponentsReady(a(this,nV)),tI(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}a(this,nV).ensureMounted({preloadHint:"CreateOrganization"}).then(e=>e.openModal("createOrganization",t||{}))}),p(this,"closeCreateOrganization",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("createOrganization"))}),p(this,"openWaitlist",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"Waitlist"}).then(e=>e.openModal("waitlist",t||{}))}),p(this,"closeWaitlist",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("waitlist"))}),p(this,"mountSignIn",(t,e)=>{var i,n;(null==e?void 0:null===(i=e.__experimental)||void 0===i?void 0:i.newComponents)&&this.__experimental_ui?this.__experimental_ui.mount("SignIn",t,e):(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"SignIn"}).then(i=>i.mountComponent({name:"SignIn",appearanceKey:"signIn",node:t,props:e}))),null===(n=this.telemetry)||void 0===n||n.record(td("SignIn",e))}),p(this,"unmountSignIn",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountSignUp",(t,e)=>{var i,n;(null==e?void 0:null===(i=e.__experimental)||void 0===i?void 0:i.newComponents)&&this.__experimental_ui?this.__experimental_ui.mount("SignUp",t,e):(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"SignUp"}).then(i=>i.mountComponent({name:"SignUp",appearanceKey:"signUp",node:t,props:e}))),null===(n=this.telemetry)||void 0===n||n.record(td("SignUp",e))}),p(this,"unmountSignUp",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountUserProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,nV)),tU(this)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderComponentWhenUserDoesNotExist,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserProfile"}).then(i=>i.mountComponent({name:"UserProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(td("UserProfile",e))}),p(this,"unmountUserProfile",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountOrganizationProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,nV)),tI(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}let n=!tU(this);if(tA(this)&&n){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,nV).ensureMounted({preloadHint:"OrganizationProfile"}).then(i=>i.mountComponent({name:"OrganizationProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(td("OrganizationProfile",e))}),p(this,"unmountOrganizationProfile",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountCreateOrganization",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tI(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"CreateOrganization"}).then(i=>i.mountComponent({name:"CreateOrganization",appearanceKey:"createOrganization",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("CreateOrganization",e))}),p(this,"unmountCreateOrganization",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountOrganizationSwitcher",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tI(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationSwitcher"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(i=>i.mountComponent({name:"OrganizationSwitcher",appearanceKey:"organizationSwitcher",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("OrganizationSwitcher",e))}),p(this,"unmountOrganizationSwitcher",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"__experimental_prefetchOrganizationSwitcher",()=>{var t;this.assertComponentsReady(a(this,nV)),null===(t=a(this,nV))||void 0===t||t.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(t=>t.prefetch("organizationSwitcher"))}),p(this,"mountOrganizationList",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tI(this,this.environment)){if("development"===a(this,nq))throw new J.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationList"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"OrganizationList"}).then(i=>i.mountComponent({name:"OrganizationList",appearanceKey:"organizationList",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("OrganizationList",e))}),p(this,"unmountOrganizationList",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountUserButton",(t,e)=>{var i,n;this.assertComponentsReady(a(this,nV)),null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"UserButton"}).then(i=>i.mountComponent({name:"UserButton",appearanceKey:"userButton",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("UserButton",e))}),p(this,"unmountUserButton",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"mountWaitlist",(t,e)=>{var i,n;this.assertComponentsReady(a(this,nV)),null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"Waitlist"}).then(i=>i.mountComponent({name:"Waitlist",appearanceKey:"waitlist",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("Waitlist",e))}),p(this,"unmountWaitlist",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),p(this,"setActive",async t=>{let{session:e,organization:i,beforeEmit:n,redirectUrl:r}=t;if(!this.client)throw Error("setActive is being called before the client is loaded. Wait for init.");if(void 0===e&&!this.session)throw Error("setActive should either be called with a session param or there should be already an active session.");let s="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:t_,o="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:t_;"string"==typeof e&&(e=this.client.sessions.find(t=>t.id===e)||null);let l=void 0===e?this.session:e,c=void 0!==i;if(l&&c){let t="string"==typeof i?i:null==i?void 0:i.id;if("string"==typeof t&&t.startsWith("org_"))l.lastActiveOrganizationId=t||null;else{let e=l.user.organizationMemberships.find(e=>e.organization.slug===t);l.lastActiveOrganizationId=(null==e?void 0:e.organization.id)||null}}(null==e?void 0:e.lastActiveToken)&&iU.dispatch(ik.TokenUpdate,{token:e.lastActiveToken}),await s(),this.session&&null===l&&(a(this,rn).call(this),iU.dispatch(ik.TokenUpdate,{token:null})),(t0()&&globalThis.document.hasFocus()||!a(this,nH).standardBrowser)&&(await a(this,re).call(this,l),l=a(this,rl).call(this,null==l?void 0:l.id)),await (null==l?void 0:l.getToken())||iU.dispatch(ik.TokenUpdate,{token:null});let h=a(this,nH).standardBrowser?ty():void 0;if(n&&(null==h||h.startTracking(),a(this,rs).call(this),D("Clerk.setActive({beforeEmit})",'Use the `redirectUrl` property instead. Example `Clerk.setActive({redirectUrl:"/"})`'),await n(l),null==h||h.stopTracking()),r&&!n){if(null==h||h.startTracking(),a(this,rs).call(this),this.client.isEligibleForTouch()){let t=new URL(r,window.location.href);await this.navigate(this.buildUrlWithAuth(this.client.buildTouchUrl({redirectUrl:t})))}else await this.navigate(r);null==h||h.stopTracking()}(null==h||!h.isUnloading())&&(a(this,ro).call(this,l),a(this,ri).call(this),await o(),a(this,rr).call(this))}),p(this,"addListener",t=>{var e;let i;return e=t,t=t=>{var n;i||(i={...t}),e(i={client:i3((n=i).client,t.client),session:i3(n.session,t.session),user:i3(n.user,t.user),organization:i3(n.organization,t.organization)})},a(this,nG).push(t),this.client&&t({client:this.client,session:this.session,user:this.user,organization:this.organization}),()=>{h(this,nG,a(this,nG).filter(e=>e!==t))}}),p(this,"navigate",async(t,e)=>{var i;if(!t||!t0())return;let n=new URL(t,window.location.href);a(this,rv).includes(n.protocol)||(console.warn('Clerk: "'.concat(n.protocol,'" is not a valid protocol. Redirecting to "/" instead. If you think this is a mistake, please open an issue.')),n=new URL("/",window.location.href));let r=(null==e?void 0:e.replace)&&a(this,nH).routerReplace?a(this,nH).routerReplace:a(this,nH).routerPush;if(a(this,nH).routerDebug&&console.log("Clerk is navigating to: ".concat(n)),"null"!==n.origin&&n.origin!==window.location.origin||!r){tb(n);return}let s={...(null==e?void 0:e.metadata)?{__internal_metadata:null==e?void 0:e.metadata}:{},windowNavigate:tb};return await r((i=new URL((i=n).toString(),window.location.origin)).href.replace(i.origin,""),s)}),l(this,nQ,{writable:!0,value:async()=>{if(!t0())return;let t=new URLSearchParams({[eb]:"true"}),e=tE(ey);e&&te(e)||function(){throw Error("".concat(ek," Invalid redirect_url. A valid http or https url should be used for the redirection."))}();let i=tJ({base:tE(ey),searchParams:t},{stringify:!0});return this.navigate(this.buildUrlWithAuth(i))}}),p(this,"redirectWithAuth",async t=>{if(t0())return this.navigate(this.buildUrlWithAuth(t))}),p(this,"redirectToSignIn",async t=>{if(t0())return this.navigate(this.buildSignInUrl(t))}),p(this,"redirectToSignUp",async t=>{if(t0())return this.navigate(this.buildSignUpUrl(t))}),p(this,"redirectToUserProfile",async()=>{if(t0())return this.navigate(this.buildUserProfileUrl())}),p(this,"redirectToCreateOrganization",async()=>{if(t0())return this.navigate(this.buildCreateOrganizationUrl())}),p(this,"redirectToOrganizationProfile",async()=>{if(t0())return this.navigate(this.buildOrganizationProfileUrl())}),p(this,"redirectToAfterSignIn",async()=>{if(t0())return this.navigate(this.buildAfterSignInUrl())}),p(this,"redirectToAfterSignUp",async()=>{if(t0())return this.navigate(this.buildAfterSignUpUrl())}),p(this,"redirectToAfterSignOut",async()=>{if(t0())return this.navigate(this.buildAfterSignOutUrl())}),p(this,"redirectToWaitlist",async()=>{if(t0())return this.navigate(this.buildWaitlistUrl())}),p(this,"handleEmailLinkVerification",async(t,e)=>{if(!this.client)return;let i=tE("__clerk_status");if("expired"===i)throw new J.N(J._L.Expired);if("client_mismatch"===i)throw new J.N(J._L.ClientMismatch);if("verified"!==i)throw new J.N(J._L.Failed);let n=tE("__clerk_created_session"),{signIn:r,signUp:s,sessions:a}=this.client,o=a.some(t=>t.id===n),l="needs_second_factor"===r.status||"missing_requirements"===s.status,c=t=>e&&"function"==typeof e?e(t):this.navigate(t),h=t.redirectUrl?()=>c(t.redirectUrl):t_;return o?this.setActive({session:n,redirectUrl:t.redirectUrlComplete}):l?h():("function"==typeof t.onVerifiedOnOtherDevice&&t.onVerifiedOnOtherDevice(),null)}),p(this,"handleGoogleOneTapCallback",async(t,e,i)=>{if(!this.loaded||!this.environment||!this.client)return;let{signIn:n,signUp:r}=this.client,s="identifier"in(t||{})?t:n,a="missingFields"in(t||{})?t:r;return this._handleRedirectCallback(e,{signUp:a,signIn:s,navigate:t=>i&&"function"==typeof i?i(this.buildUrlWithAuth(t)):this.navigate(this.buildUrlWithAuth(t))})}),p(this,"_handleRedirectCallback",async(t,e)=>{var i,n,r,s,o,l,c;let{signIn:h,signUp:d,navigate:u}=e;if(!this.loaded||!this.environment||!this.client)return;let{displayConfig:p}=this.environment,{firstFactorVerification:f}=h,{externalAccount:m}=d.verifications,v={status:d.status,missingFields:d.missingFields,externalAccountStatus:m.status,externalAccountErrorCode:null===(i=m.error)||void 0===i?void 0:i.code,externalAccountSessionId:null===(r=m.error)||void 0===r?void 0:null===(n=r.meta)||void 0===n?void 0:n.sessionId,sessionId:d.createdSessionId},_={status:h.status,firstFactorVerificationStatus:f.status,firstFactorVerificationErrorCode:null===(s=f.error)||void 0===s?void 0:s.code,firstFactorVerificationSessionId:null===(l=f.error)||void 0===l?void 0:null===(o=l.meta)||void 0===o?void 0:o.sessionId,sessionId:h.createdSessionId},g=t=>()=>u(t),w=g(t.signInUrl||p.signInUrl),b=g(t.signUpUrl||p.signUpUrl),y=g(t.firstFactorUrl||tJ({base:p.signInUrl,hashPath:"/factor-one"},{stringify:!0})),S=g(t.secondFactorUrl||tJ({base:p.signInUrl,hashPath:"/factor-two"},{stringify:!0})),k=g(t.resetPasswordUrl||tJ({base:p.signInUrl,hashPath:"/reset-password"},{stringify:!0})),U=new nr(a(this,nH),t),A=g(t.continueSignUpUrl||tJ({base:p.signUpUrl,hashPath:"/continue"},{stringify:!0})),I=e=>{let{missingFields:i}=e;return i.length?A():tS({signUp:d,verifyEmailPath:t.verifyEmailAddressUrl||tJ({base:p.signUpUrl,hashPath:"/verify-email-address"},{stringify:!0}),verifyPhonePath:t.verifyPhoneNumberUrl||tJ({base:p.signUpUrl,hashPath:"/verify-phone-number"},{stringify:!0}),navigate:u})};if("complete"===_.status)return this.setActive({session:_.sessionId,redirectUrl:U.getAfterSignInUrl()});if("transferable"===v.externalAccountStatus&&"external_account_exists"===v.externalAccountErrorCode){let t=await h.create({transfer:!0});switch(t.status){case"complete":return this.setActive({session:t.createdSessionId,redirectUrl:U.getAfterSignInUrl()});case"needs_first_factor":return y();case"needs_second_factor":return S();case"needs_new_password":return k();default:eI("sign in")}}let O="user_locked"===v.externalAccountErrorCode,C="user_locked"===_.firstFactorVerificationErrorCode;if(O)return b();if(C)return w();if("needs_first_factor"===_.status&&!(null===(c=h.supportedFirstFactors)||void 0===c?void 0:c.every(t=>"enterprise_sso"===t.strategy)))return y();if("needs_new_password"===_.status)return k();if("transferable"===_.firstFactorVerificationStatus){if(!1===t.transferable)return w();let e=await d.create({transfer:!0});switch(e.status){case"complete":return this.setActive({session:e.createdSessionId,redirectUrl:U.getAfterSignUpUrl()});case"missing_requirements":return I({missingFields:e.missingFields});default:eI("sign in")}}if("complete"===v.status)return this.setActive({session:v.sessionId,redirectUrl:U.getAfterSignUpUrl()});if("needs_second_factor"===_.status)return S();let E=("failed"===v.externalAccountStatus||"unverified"===v.externalAccountStatus)&&"identifier_already_signed_in"===v.externalAccountErrorCode&&v.externalAccountSessionId,P="failed"===_.firstFactorVerificationStatus&&"identifier_already_signed_in"===_.firstFactorVerificationErrorCode&&_.firstFactorVerificationSessionId;if(E||P){let t=_.firstFactorVerificationSessionId||v.externalAccountSessionId;if(t)return this.setActive({session:t,redirectUrl:U.getAfterSignInUrl()})}return tV(d)?b():"verified"===v.externalAccountStatus&&"missing_requirements"===v.status?I({missingFields:d.missingFields}):w()}),p(this,"handleRedirectCallback",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!i.loaded||!i.environment||!i.client)return;let{signIn:n,signUp:r}=i.client;return i._handleRedirectCallback(t,{signUp:r,signIn:n,navigate:t=>e&&"function"==typeof e?e(t):i.navigate(t)})}),p(this,"handleUnauthenticated",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{broadcast:!0};if(!i.client||!i.session)return;let e=await eV.getOrCreateInstance().fetch();if(i.updateClient(e),!i.session)return t.broadcast&&a(i,rn).call(i),i.setActive({session:null})}),p(this,"authenticateWithGoogleOneTap",async t=>{var e;return null===(e=this.client)||void 0===e?void 0:e.signIn.create({strategy:"google_one_tap",token:t.token}).catch(e=>{if((0,J.kD)(e)&&"external_account_not_found"===e.errors[0].code){var i;return null===(i=this.client)||void 0===i?void 0:i.signUp.create({strategy:"google_one_tap",token:t.token,legalAccepted:t.legalAccepted})}throw e})}),p(this,"authenticateWithMetamask",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_metamask_signature"})}),p(this,"authenticateWithCoinbaseWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_coinbase_wallet_signature"})}),p(this,"authenticateWithOKXWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_okx_wallet_signature"})}),p(this,"authenticateWithWeb3",async t=>{let e,{redirectUrl:i,signUpContinueUrl:n,customNavigate:r,unsafeMetadata:s,strategy:a,legalAccepted:o}=t;if(!this.client||!this.environment)return;let l=a.replace("web3_","").replace("_signature",""),c=await ee({provider:l}),h="metamask"===l?ea:"coinbase_wallet"===l?eo:el;try{e=await this.client.signIn.authenticateWithWeb3({identifier:c,generateSignature:h,strategy:a})}catch(t){if(tO(t,eS.FORM_IDENTIFIER_NOT_FOUND)){if(e=await this.client.signUp.authenticateWithWeb3({identifier:c,generateSignature:h,unsafeMetadata:s,strategy:a,legalAccepted:o}),n&&"missing_requirements"===e.status&&"verified"===e.verifications.web3Wallet.status)await (r&&"function"==typeof r?r(n):this.navigate(n))}else throw t}e.createdSessionId&&await this.setActive({session:e.createdSessionId,redirectUrl:i})}),p(this,"createOrganization",async t=>{let{name:e,slug:i}=t;return iv.create({name:e,slug:i})}),p(this,"getOrganization",async t=>iv.get(t)),p(this,"joinWaitlist",async t=>{let{emailAddress:e}=t;return i0.join({emailAddress:e})}),p(this,"__internal_setCountry",t=>{this.__internal_country||(this.__internal_country=t)}),p(this,"updateClient",t=>{if(!this.client){let e=a(this,nH).selectInitialSession?a(this,nH).selectInitialSession(t):a(this,n7).call(this,t);a(this,ro).call(this,e)}if(this.client=t,this.session){var e;let t=a(this,rl).call(this,this.session.id);a(this,ro).call(this,t),iU.dispatch(ik.TokenUpdate,{token:null===(e=this.session)||void 0===e?void 0:e.lastActiveToken})}a(this,ri).call(this)}),p(this,"__unstable__setEnvironment",async t=>{this.environment=new e0(t),r_.mountComponentRenderer&&h(this,nV,r_.mountComponentRenderer(this,this.environment,a(this,nH)))}),p(this,"__unstable__onBeforeRequest",t=>{a(this,nB).onBeforeRequest(t)}),p(this,"__unstable__onAfterResponse",t=>{a(this,nB).onAfterResponse(t)}),p(this,"__unstable__updateProps",t=>{var e;let i={...t,options:a(this,rf).call(this,{...a(this,nH),...t.options})};return null===(e=a(this,nV))||void 0===e?void 0:e.ensureMounted().then(t=>t.updateProps(i))}),l(this,n0,{writable:!0,value:()=>{let t=new URLSearchParams({[ey]:window.location.href});return tJ({base:a(this,nH).signInUrl,searchParams:t},{stringify:!0})}}),l(this,n1,{writable:!0,value:()=>{let t;if(this.proxyUrl){let e=new URL(this.proxyUrl);t=new URL("".concat(e.pathname,"/v1/client/sync"),e.origin)}else this.domain&&(t=new URL("/v1/client/sync","https://".concat(this.domain)));return null==t||t.searchParams.append("redirect_url",window.location.href),(null==t?void 0:t.toString())||""}}),l(this,n3,{writable:!0,value:()=>{var t;return"true"!==tE(eb)&&!!this.isSatellite&&!!(null===(t=a(this,nD))||void 0===t?void 0:t.isSignedOut())}}),l(this,n2,{writable:!0,value:()=>"production"!==a(this,nq)&&!this.isSatellite&&!!tE(ey)}),l(this,n9,{writable:!0,value:async()=>{"development"===this.instanceType?await this.navigate(a(this,n0).call(this)):"production"===this.instanceType&&await this.navigate(a(this,n1).call(this))}}),l(this,n6,{writable:!0,value:(t,e)=>{let i;try{i=new URL(t)}catch{!function(){throw Error("".concat(ek," The signInUrl needs to have a absolute url format."))}()}i.origin===e&&function(){throw Error("".concat(ek," The signInUrl needs to be on a different origin than your satellite application."))}()}}),l(this,n4,{writable:!0,value:()=>{this.isSatellite&&("development"!==a(this,nq)||a(this,nH).signInUrl||function(){throw Error("".concat(ek," Missing signInUrl. A satellite application needs to specify the signInUrl for development instances."))}(),this.proxyUrl||this.domain||function(){throw Error("".concat(ek," Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl."))}(),a(this,nH).signInUrl&&a(this,n6).call(this,a(this,nH).signInUrl,window.location.origin))}}),l(this,n5,{writable:!0,value:async()=>{var t,e;if(h(this,nD,await nR.create(this,a(this,nB),a(this,nq))),a(this,n4).call(this),a(this,n3).call(this))return await a(this,n9).call(this),!1;if(a(this,n2).call(this))return await a(this,nQ).call(this),!1;h(this,nY,tQ()),h(this,nK,new Z("clerk")),a(this,rt).call(this);let i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!t)return!1;let e=tj.get(t);if(void 0===e)e=B.some(e=>t.startsWith("accounts.")&&t.endsWith(e))||q.some(e=>t.endsWith(e)&&!t.endsWith(".clerk"+e)),tj.set(t,e);return e}(null===(t=window)||void 0===t?void 0:t.location.hostname),n="development"===a(this,nq)&&!i,r=0;for(;r<2;){r++;try{let t=e0.getInstance().fetch({touch:n}).then(t=>{this.updateEnvironment(t)}),i=()=>eV.getOrCreateInstance().fetch().then(t=>this.updateClient(t)),r=()=>{r_.mountComponentRenderer&&!a(this,nV)&&h(this,nV,r_.mountComponentRenderer(this,this.environment,a(this,nH)))};if(await Promise.all([t,i()]).catch(async e=>{(0,J.kD)(e)&&"requires_captcha"===e.errors[0].code&&(await t,r(),await i())}),null===(e=a(this,nD))||void 0===e||e.setClientUatCookieForDevelopmentInstances(),await a(this,rp).call(this))return!1;r();break}catch(t){if(tO(t,"dev_browser_unauthenticated"))await a(this,nD).handleUnauthenticatedDevBrowser();else if(!(z()&&W()))return console.warn(t),!1;else throw t}r>=2&&function(){throw Error("".concat(ek," Something went wrong initializing Clerk."))}()}return h(this,nJ,new nM(this)),a(this,nJ).start(),a(this,rm).call(this),a(this,rh).call(this),a(this,rd).call(this),!0}}),p(this,"shouldFallbackToCachedResources",()=>!!this.__internal_getCachedResources),l(this,n8,{writable:!0,value:async()=>{let t,e;let i=this.shouldFallbackToCachedResources()?1:void 0;try{[t,e]=await Promise.all([e0.getInstance().fetch({touch:!1,fetchMaxTries:i}),eV.getOrCreateInstance().fetch({fetchMaxTries:i})])}catch(i){if((0,J.uX)(i)&&"network_error"===i.code&&this.shouldFallbackToCachedResources()){var n;let i=await (null===(n=this.__internal_getCachedResources)||void 0===n?void 0:n.call(this));t=new e0(null==i?void 0:i.environment),eV.clearInstance(),e=eV.getOrCreateInstance(null==i?void 0:i.client)}else throw i}return this.updateClient(e),this.updateEnvironment(t),r_.mountComponentRenderer&&h(this,nV,r_.mountComponentRenderer(this,this.environment,a(this,nH))),!0}}),p(this,"__internal_reloadInitialResources",async()=>{let[t,e]=await Promise.all([e0.getInstance().fetch({touch:!1,fetchMaxTries:1}),eV.getOrCreateInstance().fetch({fetchMaxTries:1})]);this.updateClient(e),this.updateEnvironment(t),a(this,ri).call(this)}),l(this,n7,{writable:!0,value:t=>{if(t.lastActiveSessionId){let e=t.activeSessions.find(e=>e.id===t.lastActiveSessionId);if(e)return e}return t.activeSessions[0]||null}}),l(this,rt,{writable:!0,value:()=>{var t,e;f()&&(null===(t=a(this,nY))||void 0===t||t.onPageFocus(()=>{this.session&&!(a(this,nX)>Date.now())&&(h(this,nX,Date.now()+5e3),a(this,re).call(this,this.session))}),null===(e=a(this,nK))||void 0===e||e.addEventListener("message",t=>{let{data:e}=t;"signout"===e.type&&this.handleUnauthenticated()}))}}),l(this,re,{writable:!0,value:async t=>{if(!t||!a(this,nH).touchSession)return Promise.resolve();await t.touch().catch(t=>{(0,J.ix)(t)&&this.handleUnauthenticated()})}}),l(this,ri,{writable:!0,value:()=>{if(this.client)for(let t of a(this,nG))t({client:this.client,session:this.session,user:this.user,organization:this.organization})}}),l(this,rn,{writable:!0,value:()=>{var t;null===(t=a(this,nK))||void 0===t||t.postMessage({type:"signout"})}}),l(this,rr,{writable:!0,value:()=>{r_.mountComponentRenderer&&(this.closeSignUp(),this.closeSignIn())}}),l(this,rs,{writable:!0,value:()=>{this.session=void 0,this.organization=void 0,this.user=void 0,a(this,ri).call(this)}}),l(this,ra,{writable:!0,value:()=>{var t;return((null===(t=this.session)||void 0===t?void 0:t.user.organizationMemberships)||[]).map(t=>t.organization).find(t=>{var e;return t.id===(null===(e=this.session)||void 0===e?void 0:e.lastActiveOrganizationId)})||null}}),l(this,ro,{writable:!0,value:t=>{this.session=t||null,this.organization=a(this,ra).call(this),a(this,rc).call(this)}}),l(this,rl,{writable:!0,value:t=>{var e;return(null===(e=this.client)||void 0===e?void 0:e.activeSessions.find(e=>e.id===t))||null}}),l(this,rc,{writable:!0,value:()=>{this.user=this.session?this.session.user:null}}),l(this,rh,{writable:!0,value:()=>{this.addListener(t=>{let{session:e}=t;if(null==e?void 0:e.actor){var i;null===(i=a(this,nV))||void 0===i||i.ensureMounted().then(t=>t.mountImpersonationFab())}})}}),l(this,rd,{writable:!0,value:()=>{var t;null===(t=a(this,nV))||void 0===t||t.ensureMounted().then(t=>{a(this,nH).__internal_claimKeylessApplicationUrl&&t.updateProps({options:{__internal_claimKeylessApplicationUrl:a(this,nH).__internal_claimKeylessApplicationUrl,__internal_copyInstanceKeysUrl:a(this,nH).__internal_copyInstanceKeysUrl}})})}}),l(this,ru,{writable:!0,value:(t,e,i)=>{if(!t||!this.loaded||!this.environment||!this.environment.displayConfig)return"";let n=a(this,nH)[t]||this.environment.displayConfig[t],r=new nr(a(this,nH),e).toSearchParams(),s=new URLSearchParams(i||{}),o=tJ({base:n,hashPath:d(this,nZ,rg).call(this)&&"signUpUrl"===t?"/create":"",hashSearchParams:[s,r]},{stringify:!0});return this.buildUrlWithAuth(o)}}),l(this,rp,{writable:!0,value:async()=>{var t,e;let i=new URLSearchParams(window.location.search).get("redirect_url"),n="production"===this.instanceType,r=null!==i&&function(t,e){let i=new URL(e,tN),n=i.pathname,r=t$.includes(n)||tG.includes(n);return t===i.host&&r}(this.frontendApi,i);if(n||!r)return!1;let s=this.session,o=a(this,nH).signInUrl||(null===(t=this.environment)||void 0===t?void 0:t.displayConfig.signInUrl),l=o&&window.location.href.startsWith(o),c=a(this,nH).signUpUrl||(null===(e=this.environment)||void 0===e?void 0:e.displayConfig.signUpUrl),h=c&&window.location.href.startsWith(c);return(!function(t){let e=new URL(t,tN);return t$.includes(e.pathname)}(i)||!!s||!l&&!h)&&(await this.navigate(this.buildUrlWithAuth(i)),!0)}}),l(this,rf,{writable:!0,value:t=>({...nN,...t,allowedRedirectOrigins:function(t,e){if(Array.isArray(t)&&t.length)return t;let i=[];return"undefined"!=typeof window&&window.location&&i.push(window.location.origin),i.push("https://".concat(tD(e))),i.push("https://*.".concat(tD(e))),i}(null==t?void 0:t.allowedRedirectOrigins,this.frontendApi)})}),l(this,rm,{writable:!0,value:()=>{try{tP(eb),tP("suffixed_cookies"),tP("__clerk_handshake"),tP("__clerk_help")}catch(t){}}}),t=(t||"").trim(),h(this,nL,null==e?void 0:e.domain),h(this,nj,null==e?void 0:e.proxyUrl),!t)return tC.throwMissingPublishableKeyError();let n=H(t);if(!n)return tC.throwInvalidPublishableKeyError({key:t});h(this,nF,t),h(this,nq,n.instanceType),h(this,nB,eM(this)),eF.clerk=this}}function rg(){var t;return(null===(t=a(this,nH).experimental)||void 0===t?void 0:t.combinedFlow)&&a(this,nH).signInUrl===a(this,nH).signUpUrl}function rw(){let t=tw;return a(this,nH).allowedRedirectProtocols&&(t=t.concat(a(this,nH).allowedRedirectProtocols)),t}p(r_,"mountComponentRenderer",void 0),p(r_,"version","5.42.1"),p(r_,"sdkMetadata",{name:"@clerk/clerk-js",version:"5.42.1",environment:"production"}),(t=i.hmd(t)).hot&&t.hot.accept()},2689:function(t,e,i){"use strict";i.d(e,{Ko:function(){return p},U9:function(){return m},ac:function(){return u},qx:function(){return f},r2:function(){return l},yA:function(){return h}});var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=t=>{throw TypeError(t)},l=(t,e)=>{for(var i in e)n(t,i,{get:e[i],enumerable:!0})},c=(t,e,i,o)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let l of s(e))a.call(t,l)||l===i||n(t,l,{get:()=>e[l],enumerable:!(o=r(e,l))||o.enumerable});return t},h=(t,e,i)=>(c(t,e,"default"),i&&c(i,e,"default")),d=(t,e,i)=>e.has(t)||o("Cannot "+i),u=(t,e,i)=>(d(t,e,"read from private field"),i?i.call(t):e.get(t)),p=(t,e,i)=>e.has(t)?o("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),f=(t,e,i,n)=>(d(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),m=(t,e,i)=>(d(t,e,"access private method"),i)},8912:function(t,e,i){"use strict";function n(t){return["captcha_invalid","captcha_not_enabled","captcha_missing_token"].includes(t.errors[0].code)}function r(t){let e=null==t?void 0:t.status;return!!e&&e>=400&&e<500}function s(t){return(`${t.message}${t.name}`||"").toLowerCase().replace(/\s+/g,"").includes("networkerror")}function a(t){return o(t)||c(t)||l(t)}function o(t){return"clerkError"in t}function l(t){return"clerkRuntimeError"in t}function c(t){return"code"in t&&[4001,32602,32603].includes(t.code)&&"message"in t}function h(t){var e,i;return o(t)&&(null==(i=null==(e=t.errors)?void 0:e[0])?void 0:i.code)==="user_locked"}function d(t=[]){return t.length>0?t.map(u):[]}function u(t){var e,i,n,r,s;return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:null==(e=null==t?void 0:t.meta)?void 0:e.param_name,sessionId:null==(i=null==t?void 0:t.meta)?void 0:i.session_id,emailAddresses:null==(n=null==t?void 0:t.meta)?void 0:n.email_addresses,identifiers:null==(r=null==t?void 0:t.meta)?void 0:r.identifiers,zxcvbn:null==(s=null==t?void 0:t.meta)?void 0:s.zxcvbn}}}function p(t){var e,i,n,r,s;return{code:(null==t?void 0:t.code)||"",message:(null==t?void 0:t.message)||"",long_message:null==t?void 0:t.longMessage,meta:{param_name:null==(e=null==t?void 0:t.meta)?void 0:e.paramName,session_id:null==(i=null==t?void 0:t.meta)?void 0:i.sessionId,email_addresses:null==(n=null==t?void 0:t.meta)?void 0:n.emailAddresses,identifiers:null==(r=null==t?void 0:t.meta)?void 0:r.identifiers,zxcvbn:null==(s=null==t?void 0:t.meta)?void 0:s.zxcvbn}}}i.d(e,{G1:function(){return _},LT:function(){return p},N:function(){return v},RK:function(){return y},ZC:function(){return c},_L:function(){return g},ay:function(){return h},eE:function(){return s},gO:function(){return f},iR:function(){return d},ix:function(){return r},kD:function(){return o},nU:function(){return u},pG:function(){return n},sZ:function(){return a},t5:function(){return b},uX:function(){return l},w$:function(){return m}});var f=class t extends Error{constructor(e,{data:i,status:n,clerkTraceId:r}){super(e),this.toString=()=>{let t=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(t=>JSON.stringify(t))}`;return this.clerkTraceId&&(t+=`
Clerk Trace ID: ${this.clerkTraceId}`),t},Object.setPrototypeOf(this,t.prototype),this.status=n,this.message=e,this.clerkTraceId=r,this.clerkError=!0,this.errors=d(i)}},m=class t extends Error{constructor(e,{code:i}){let n="\uD83D\uDD12 Clerk:",r=RegExp(n.replace(" ","\\s*"),"i"),s=e.replace(r,""),a=`${n} ${s.trim()}

(code="${i}")
`;super(a),this.toString=()=>`[${this.name}]
Message:${this.message}`,Object.setPrototypeOf(this,t.prototype),this.code=i,this.message=a,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},v=class t extends Error{constructor(e){super(e),this.code=e,Object.setPrototypeOf(this,t.prototype)}};function _(t){return t instanceof v}var g={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"},w=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function b({packageName:t,customMessages:e}){let i=t,n={...w,...e};function r(t,e){if(!e)return`${i}: ${t}`;let n=t;for(let i of t.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let t=(e[i[1]]||"").toString();n=n.replace(`{{${i[1]}}}`,t)}return`${i}: ${n}`}return{setPackageName({packageName:t}){return"string"==typeof t&&(i=t),this},setMessages({customMessages:t}){return Object.assign(n,t||{}),this},throwInvalidPublishableKeyError(t){throw Error(r(n.InvalidPublishableKeyErrorMessage,t))},throwInvalidProxyUrl(t){throw Error(r(n.InvalidProxyUrlErrorMessage,t))},throwMissingPublishableKeyError(){throw Error(r(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(r(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(t){throw Error(r(n.MissingClerkProvider,t))},throw(t){throw Error(r(t))}}}var y=class extends m{constructor(t,{code:e}){super(t,{code:e}),this.code=e}}},9996:function(t,e,i){"use strict";i.d(e,{Q:function(){return u}});var n={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},r=new Set(["first_factor","second_factor","multi_factor"]),s=new Set(["strict_mfa","strict","moderate","lax"]),a=t=>"number"==typeof t&&t>0,o=t=>r.has(t),l=t=>s.has(t),c=(t,e)=>{let{orgId:i,orgRole:n,orgPermissions:r}=e;return(t.role||t.permission)&&i&&n&&r?t.permission?r.includes(t.permission):t.role?n===t.role:null:null},h=t=>{if(!t)return!1;let e="string"==typeof t&&l(t),i="object"==typeof t&&o(t.level)&&a(t.afterMinutes);return(!!e||!!i)&&(t=>"string"==typeof t?n[t]:t).bind(null,t)},d=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;let i=h(t.reverification);if(!i)return null;let{level:n,afterMinutes:r}=i(),[s,a]=e,o=-1!==s?r>s:null,l=-1!==a?r>a:null;switch(n){case"first_factor":return o;case"second_factor":return -1!==a?l:o;case"multi_factor":return -1===a?o:o&&l}},u=t=>e=>{if(!t.userId)return!1;let i=c(e,t),n=d(e,t);return[i,n].some(t=>null===t)?[i,n].some(t=>!0===t):[i,n].every(t=>!0===t)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var s=Object.create(null);i.r(s);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach(function(t){a[t]=function(){return n[t]}});return a.default=function(){return n},i.d(s,a),s}})(),i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce(function(e,n){return i.f[n](t,e),e},[]))},i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.u=function(t){return""+("199"===t?"cookieSuffix":t)+"_"+i.h().slice(0,6)+"_5.42.1.js"},i.h=function(){return"3c6657d6763a18ab8c75"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},(()=>{var t={},e="@clerk/clerk-js:";i.l=function(n,r,s,a){if(t[n]){t[n].push(r);return}if(void 0!==s)for(var o,l,c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+s),o.src=n),t[n]=[r];var u=function(e,i){o.onerror=o.onload=null,clearTimeout(p);var r=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(function(t){return t(i)}),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}})(),i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="",(()=>{var t={994:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r){if(r)n.push(r[2]);else{var s=new Promise(function(i,n){r=t[e]=[i,n]});n.push(r[2]=s);var a=i.p+i.u(e),o=Error();i.l(a,function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,r[1](o)}},"chunk-"+e,e)}}};var e=function(e,n){var r,s,a=n[0],o=n[1],l=n[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);l&&l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i("9906")})());