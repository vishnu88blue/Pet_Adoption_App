"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["270"],{9327:function(e,t,o){o.d(t,{fB:function(){return d},gW:function(){return p},uj:function(){return a}});var n=o(7126),r=o(4676),i=o(1673),s=o(7571),c=o(3064),l=o(9885),u=o(8655);let d=e=>{let{navigate:t}=(0,r.useRouter)(),{handleManageAccountClicked:o,handleSignOutSessionClicked:u,handleUserProfileActionClicked:d,session:a}=e,{menutItems:p}=(0,s.useUserButtonContext)(),B=e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100,padding:"".concat(e.space.$4," ").concat(e.space.$5)}),m=async n=>{var r;return(null==n?void 0:n.path)?(await t(n.path),null==e?void 0:e.completedCallback()):n.id===i.Zb.MANAGE_ACCOUNT?await o():(null==n?void 0:n.open)?d(n.open):(null===(r=n.onClick)||void 0===r||r.call(n),null==e?void 0:e.completedCallback())};return(0,n.tZ)(l.Actions,{role:"menu",elementDescriptor:c.descriptors.userButtonPopoverActions,elementId:c.descriptors.userButtonPopoverActions.setId("singleSession"),sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100}),children:null==p?void 0:p.map(e=>{let t;return t=Object.values(i.Zb).includes(e.id)?{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId(e.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId(e.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId(e.id)}:{elementDescriptor:c.descriptors.userButtonPopoverCustomItemButton,elementId:c.descriptors.userButtonPopoverCustomItemButton.setId(e.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(e.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionItemButtonIcon.setId(e.id)},(0,n.tZ)(l.Action,{...t,icon:e.icon,label:e.name,onClick:e.id===i.Zb.SIGN_OUT?u(a):()=>m(e),sx:B,iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4})},e.id)})})},a=e=>{let{navigate:t}=(0,r.useRouter)(),{handleManageAccountClicked:o,handleSignOutSessionClicked:d,handleSessionClicked:a,handleAddAccountClicked:p,handleUserProfileActionClicked:B,session:m,otherSessions:v}=e,{menutItems:I}=(0,s.useUserButtonContext)(),A=async n=>{var r;return(null==n?void 0:n.path)?(await t(n.path),null==e?void 0:e.completedCallback()):n.id===i.Zb.MANAGE_ACCOUNT?await o():(null==n?void 0:n.open)?B(n.open):(null===(r=n.onClick)||void 0===r||r.call(n),null==e?void 0:e.completedCallback())},h=I.every(e=>Object.values(i.Zb).includes(e.id));return(0,n.BX)(n.HY,{children:[h?(0,n.tZ)(l.SmallActions,{role:"menu",elementDescriptor:c.descriptors.userButtonPopoverActions,elementId:c.descriptors.userButtonPopoverActions.setId("multiSession"),children:(0,n.BX)(c.Flex,{justify:"between",sx:e=>({marginLeft:e.space.$12,padding:"0 ".concat(e.space.$5," ").concat(e.space.$4),gap:e.space.$2}),children:[(0,n.tZ)(l.SmallAction,{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId("manageAccount"),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId("manageAccount"),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId("manageAccount"),icon:u.tc,label:(0,c.localizationKeys)("userButton.action__manageAccount"),onClick:o}),(0,n.tZ)(l.SmallAction,{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId("signOut"),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId("signOut"),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId("signOut"),icon:u.lv,label:(0,c.localizationKeys)("userButton.action__signOut"),onClick:d(m)})]})}):(0,n.tZ)(l.SmallActions,{role:"menu",elementDescriptor:c.descriptors.userButtonPopoverActions,elementId:c.descriptors.userButtonPopoverActions.setId("multiSession"),sx:e=>({gap:e.space.$1,paddingBottom:e.space.$2}),children:null==I?void 0:I.map(e=>{let t;return t=Object.values(i.Zb).includes(e.id)?{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId(e.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId(e.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId(e.id)}:{elementDescriptor:c.descriptors.userButtonPopoverCustomItemButton,elementId:c.descriptors.userButtonPopoverCustomItemButton.setId(e.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(e.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionItemButtonIcon.setId(e.id)},(0,n.tZ)(l.Action,{...t,icon:e.icon,label:e.name,onClick:e.id===i.Zb.SIGN_OUT?d(m):()=>A(e),sx:e=>({border:0,padding:"".concat(e.space.$2," ").concat(e.space.$5),gap:e.space.$3x5}),iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4}),iconBoxSx:e=>({minHeight:e.sizes.$4,minWidth:e.sizes.$4,alignItems:"center"})},e.id)})}),(0,n.BX)(l.Actions,{role:"menu",sx:e=>({borderTopStyle:e.borderStyles.$solid,borderTopWidth:e.borderWidths.$normal,borderTopColor:e.colors.$neutralAlpha100}),children:[v.map(e=>(0,n.tZ)(l.PreviewButton,{icon:u.nR,onClick:a(e),role:"menuitem",children:(0,n.tZ)(l.UserPreview,{user:e.user})},e.id)),(0,n.tZ)(l.Action,{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId("addAccount"),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId("addAccount"),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId("addAccount"),icon:u.mm,label:(0,c.localizationKeys)("userButton.action__addAccount"),onClick:p,iconSx:e=>({width:e.sizes.$9,height:e.sizes.$6}),iconBoxSx:e=>({minHeight:e.sizes.$9,minWidth:e.sizes.$6,alignItems:"center"}),spinnerSize:"md"})]})]})},p=e=>{let{handleSignOutAllClicked:t,elementDescriptor:o,elementId:r,iconBoxElementDescriptor:i,iconBoxElementId:s,iconElementDescriptor:d,iconElementId:a,label:p,sx:B,actionSx:m}=e;return(0,n.tZ)(l.Actions,{role:"menu",sx:[e=>({padding:e.space.$2}),B],children:(0,n.tZ)(l.Action,{elementDescriptor:o||c.descriptors.userButtonPopoverActionButton,elementId:r||c.descriptors.userButtonPopoverActionButton.setId("signOutAll"),iconBoxElementDescriptor:i||c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s||c.descriptors.userButtonPopoverActionButtonIconBox.setId("signOutAll"),iconElementDescriptor:d||c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:a||c.descriptors.userButtonPopoverActionButtonIcon.setId("signOutAll"),icon:u.lv,label:p||(0,c.localizationKeys)("userButton.action__signOutAll"),onClick:t,variant:"ghost",colorScheme:"neutral",sx:[e=>({backgroundColor:e.colors.$transparent,padding:"".concat(e.space.$2," ").concat(e.space.$3),borderBottomWidth:0,borderRadius:e.radii.$lg}),m],spinnerSize:"md"})})}},1751:function(e,t,o){o.r(t),o.d(t,{UserButton:()=>A});var n=o("7126"),r=o("4194"),i=o("7571"),s=o("3064"),c=o("9885"),l=o("6391"),u=o("2631"),d=o("9327"),a=o("5241");let p=r.forwardRef((e,t)=>{let{close:o,...r}=e,l=()=>null==o?void 0:o(!1),{session:p}=(0,u.kP)(),B=(0,i.useUserButtonContext)(),{__experimental_asStandalone:m}=B,{authConfig:v}=(0,i.useEnvironment)(),{user:I}=(0,u.aF)(),{handleAddAccountClicked:A,handleManageAccountClicked:h,handleSessionClicked:P,handleSignOutAllClicked:C,handleSignOutSessionClicked:x,handleUserProfileActionClicked:g,otherSessions:b}=(0,a.Z)({...B,actionCompleteCallback:l,user:I});return(0,n.tZ)(c.RootBox,{elementDescriptor:s.descriptors.userButtonPopoverRootBox,children:(0,n.BX)(c.PopoverCard.Root,{elementDescriptor:s.descriptors.userButtonPopoverCard,ref:t,role:"dialog","aria-label":"User button popover",shouldEntryAnimate:!m,...r,children:[(0,n.BX)(c.PopoverCard.Content,{elementDescriptor:s.descriptors.userButtonPopoverMain,children:[(0,n.tZ)(c.UserPreview,{elementId:"userButton",user:I,sx:e=>({width:"100%",padding:"".concat(e.space.$4," ").concat(e.space.$5)})}),v.singleSessionMode?(0,n.tZ)(d.fB,{handleManageAccountClicked:h,handleSignOutSessionClicked:x,handleUserProfileActionClicked:g,session:p,completedCallback:l}):(0,n.tZ)(d.uj,{session:p,otherSessions:b,handleManageAccountClicked:h,handleSignOutSessionClicked:x,handleSessionClicked:P,handleAddAccountClicked:A,handleUserProfileActionClicked:g,completedCallback:l})]}),(0,n.tZ)(c.PopoverCard.Footer,{elementDescriptor:s.descriptors.userButtonPopoverFooter,children:!v.singleSessionMode&&b.length>0&&(0,n.tZ)(d.gW,{handleSignOutAllClicked:C})})]})})});var B=o("5878");let m=e=>{let{showName:t}=e,{user:o}=(0,u.aF)();return o&&t?(0,n.tZ)(s.Text,{variant:"subtitle",as:"span",elementDescriptor:s.descriptors.userButtonOuterIdentifier,sx:[e=>({paddingLeft:e.space.$2})],children:(0,B.Pp)(o)||(0,B.xC)(o)}):null},v=(0,c.withAvatarShimmer)((0,r.forwardRef)((e,t)=>{let{sx:o,...r}=e,{user:l}=(0,u.aF)(),{showName:d}=(0,i.useUserButtonContext)();return(0,n.tZ)(s.Button,{elementDescriptor:s.descriptors.userButtonTrigger,variant:"roundWrapper",sx:[e=>({borderRadius:d?e.radii.$md:e.radii.$circle,color:e.colors.$colorText}),o],ref:t,"aria-label":"".concat(e.isOpen?"Close":"Open"," user button"),"aria-expanded":e.isOpen,"aria-haspopup":"dialog",...r,children:(0,n.BX)(s.Flex,{elementDescriptor:s.descriptors.userButtonBox,isOpen:e.isOpen,align:"center",as:"span",gap:2,children:[(0,n.tZ)(m,{showName:d}),(0,n.tZ)(c.UserAvatar,{boxElementDescriptor:s.descriptors.userButtonAvatarBox,imageElementDescriptor:s.descriptors.userButtonAvatarImage,...l,size:e=>e.sizes.$7})]})})})),I=(0,c.withFloatingTree)(e=>{let{children:t}=e,{defaultOpen:o}=(0,i.useUserButtonContext)(),{floating:s,reference:u,styles:d,toggle:a,isOpen:p,nodeId:B,context:m}=(0,l.Sv)({defaultOpen:o,placement:"bottom-end",offset:8}),I=(0,r.useId)();return(0,n.BX)(n.HY,{children:[(0,n.tZ)(v,{ref:u,onClick:a,isOpen:p,"aria-controls":p?I:void 0,"aria-expanded":p}),(0,n.tZ)(c.Popover,{nodeId:B,context:m,isOpen:p,children:(0,r.cloneElement)(t,{id:I,close:a,ref:s,style:d})})]})}),A=(0,i.withCoreUserGuard)((0,c.withCardStateProvider)(()=>{let{__experimental_asStandalone:e}=(0,i.useUserButtonContext)();return(0,n.tZ)(s.Flow.Root,{flow:"userButton",sx:{display:"inline-flex"},children:e?(0,n.tZ)(p,{close:"function"==typeof e?e:void 0}):(0,n.tZ)(I,{children:(0,n.tZ)(p,{})})})}))},5241:function(e,t,o){o.d(t,{Z:function(){return u}});var n=o(2631),r=o(5809),i=o(9885),s=o(4264),c=o(4676),l=o(8748);let u=e=>{let{setActive:t,signOut:o,openUserProfile:u}=(0,n.cL)(),d=(0,i.useCardState)(),{activeSessions:a,otherSessions:p}=(0,s.j)({user:e.user}),{navigate:B}=(0,c.useRouter)();return{handleSignOutSessionClicked:t=>()=>0===p.length?o(e.navigateAfterSignOut):o(e.navigateAfterMultiSessionSingleSignOut,{sessionId:t.id}).finally(()=>d.setIdle()),handleManageAccountClicked:()=>{var t;return"navigation"===e.userProfileMode?B(e.userProfileUrl||"").finally(()=>{(async()=>{var t;await (0,l._v)(300),null===(t=e.actionCompleteCallback)||void 0===t||t.call(e)})()}):(u(e.userProfileProps),null===(t=e.actionCompleteCallback)||void 0===t?void 0:t.call(e))},handleUserProfileActionClicked:t=>{var o;return"navigation"===e.userProfileMode?B(e.userProfileUrl||"").finally(()=>{(async()=>{var t;await (0,l._v)(300),null===(t=e.actionCompleteCallback)||void 0===t||t.call(e)})()}):(u({...e.userProfileProps,...t&&{__experimental_startPath:t}}),null===(o=e.actionCompleteCallback)||void 0===o?void 0:o.call(e))},handleSignOutAllClicked:()=>o(e.navigateAfterSignOut),handleSessionClicked:o=>async()=>(d.setLoading(),t({session:o,redirectUrl:e.afterSwitchSessionUrl}).finally(()=>{var t;d.setIdle(),null===(t=e.actionCompleteCallback)||void 0===t||t.call(e)})),handleAddAccountClicked:()=>((0,r.T7)(e.signInUrl||window.location.href),(0,l._v)(2e3)),otherSessions:p,activeSessions:a}}}}]);